<html><head>
<meta http-equiv="content-type" content="text/html; charset=UTF-8">

<link rel="icon" href="../../chimera/chimera16.png" type="image/png">
<link rel="stylesheet" href="../../css/cgl.css" type="text/css">
<link rel="stylesheet" href="../../css/chimera.css" type="text/css">
<link rel="stylesheet" href="../../css/cytoscape.css" type="text/css">

<title>CyAnimator: Simple Animation of Cytoscape Networks</title>

<style>
DIV.image {
	float:right; 
	width:416px;
	border:thin black solid; 
	margin:10px 10px 10px 10px; 
	padding:10px 10px 10px 10px;
}

h4.ul {
	text-decoration: underline;
}

h5.ul {
	text-decoration: underline;
	font-style: italic;
}

b.menuLabel {
	font-size: 90%;
	background: rgb(220,220,255);
}

div.leftInfo {
	position: fixed;
	left: 10px;
	width: 180px;
	bottom: 10px;
	background-color: rgb(240,240,240);
	padding: 5px 5px 5px 5px;
}

</style>

</head>

<body alink="#7f1066" bgcolor="#ffffff" link="#154c5c" vlink="#7f1066">

<!-- Top menu -->
<div style="margin-bottom: 110px;">
<img src="/images/Top.png"
style="position: absolute; left: 10px; top: 10px; right: 10px;" height="86" width="95%">
<a href="/index.html"><img border="0" src="/images/DNALogo1.png"
style="position:absolute; left: 10px; top: 10px;"></a>
<img src="/images/TopHighlightNew.png" style="position: absolute; top: 10px; right: 10px;">
<a href="/Overview/index.html" class="top-line" style="right:325px;">about</a>
<a href="/Research/index.html" class="top-line" style="right:235px;">projects</a>
<a href="/Overview/staff.html" class="top-line" style="right:150px;">people</a>
<a href="/Outreach/pubs/index.html" class="top-line" style="right:35px;">publications</a>
<span class="second-line-shadow" style="right:254px;">resources</span>
<a href="/Resources/index.html" class="second-line" style="right:255px;">resources</a>
<span class="second-line-shadow" style="right:149px;">visit us</span>
<a href="/Visitors/index.html" class="second-line" style="right:150px;">visit us</a>
<span class="second-line-shadow" style="right:54px;">search</span>
<a href="/Search/index.html" class="second-line" style="right:55px;">search</a>
</div>

<!-- Left hand quick-links -->
<div class="leftNav">
<p class="header" style="margin-top: 0px">Quick Links</p>
<h4 class="menu"><a href="/cytoscape/">RBVI Apps Home</a></h4>
<p class="header" style="margin-top: 8px">Current Apps (3.x)</p>
<h4 class="menu">Single Cell RNA-Seq Analysis</h4>
<h5 class="menu"><a href="/cytoscape/scNetViz/index.shtml">scNetViz</a></h5>
<h4 class="menu">Structure Integration</h4>
<h5 class="menu"><a href="/cytoscape/structureViz2/index.shtml">structureViz2</a></h5>
<h4 class="menu">Chem Informatics</h4>
<h5 class="menu"><a href="/cytoscape/chemViz2/index.shtml">chemViz2</a></h5>
<h4 class="menu">Cluster Analysis</h4>
<h5 class="menu"><a href="/cytoscape/clusterMaker2/clusterMaker2.shtml">clusterMaker2</a></h5>
<h4 class="menu">Network Access</h4>
<h5 class="menu"><a href="/cytoscape/cddApp/index.shtml">cddApp</a></h5>
<h5 class="menu"><a href="/cytoscape/stringApp/index.shtml">stringApp</a></h5>
<h4 class="menu">Animation</h4>
<h5 class="menu"><a href="/cytoscape/CyAnimator/index.shtml">CyAnimator</a></h5>
<h4 class="menu">Layouts</h4>
<h5 class="menu"><a href="/cytoscape/boundaryLayout/index.shtml">boundaryLayout</a></h5>
<h4 class="menu">Utility Apps</h4>
<h5 class="menu"><a href="/cytoscape/utilities3/amatreader.shtml">Adjacency Matric Reader</a></h5>
<h5 class="menu"><a href="/cytoscape/utilities3/cdtreader.shtml">CDT (Cluster) Reader</a></h5>
<h5 class="menu"><a href="/cytoscape/utilities3/enhancedcg.shtml">Enhanced Graphics</a></h5>
<h5 class="menu"><a href="/cytoscape/utilities3/layoutsaver.shtml">Layout Saver (Mapper)</a></h5>
<h5 class="menu"><a href="/cytoscape/utilities3/setsApp.shtml">Sets App</a></h5>
<h5 class="menu"><a href="/cytoscape/utilities3/cybrowser.shtml">CyBrowser</a></h5>
<!--
<p class="header" style="margin-top: 0px">Current Plugins (2.8)</p>
<h4 class="menu">Structure Integration</h4>
<h5 class="menu"><a href="/cytoscape/structureViz/index.shtml">structureViz</a></h5>
<h4 class="menu">Chem Informatics</h4>
<h5 class="menu"><a href="/cytoscape/chemViz/index.shtml">chemViz</a></h5>
<h4 class="menu">Cluster Analysis</h4>
<h5 class="menu"><a href="/cytoscape/cluster/clusterMaker.shtml">clusterMaker</a></h5>
<h5 class="menu"><a href="/cytoscape/cluster/clusterExplorer.shtml">clusterExplorer</a></h5>
<h4 class="menu">Network Access</h4>
<h4 class="menu"><a href="/cytoscape/SFLDLoader/index.shtml">SFLD Network Loader</a></h4>
<h4 class="menu"><a href="/cytoscape/bioCycPlugin/index.shtml">BioCyc Network Loader</a></h4>
<h4 class="menu">Utilities</h4>
<h4 class="menu"><a href="/cytoscape/groups/index.shtml">Groups</a></h4>
<h5 class="menu"><a href="/cytoscape/groups/index.shtml#groupTool">Group Tool</a></h5>
<h5 class="menu"><a href="/cytoscape/groups/index.shtml#namedSelection">Named Selection Plugin</a></h5>
<h5 class="menu"><a href="/cytoscape/groups/index.shtml#metaNodePlugin">MetaNode Plugin</a></h5>
<h4 class="menu"><a href="/cytoscape/utilities/index.shtml">Utilities</a></h4>
<h5 class="menu"><a href="/cytoscape/utilities/index.shtml#addParentNeighbors">Add Parent Neighbors</a></h5>
<h5 class="menu"><a href="/cytoscape/utilities/index.shtml#commandTool">Command tool</a></h5>
<h5 class="menu"><a href="/cytoscape/utilities/index.shtml#edgeLength">Edge Length Plugin</a></h5>
<h5 class="menu"><a href="/cytoscape/utilities/index.shtml#edgeLister">Edge Lister Plugin</a></h5>
<h5 class="menu"><a href="/cytoscape/utilities/index.shtml#nodeCharts">Node Chart Plugin</a></h5>
<h4 class="menu">Samples</h4>
<h4 class="menu"><a href="/cytoscape/samples/index.shtml">Programmer Samples</a></h4>
<h5 class="menu"><a href="/cytoscape/samples/index.shtml#sampleGroupViewer">Sample Group Viewer</a></h5>
<h5 class="menu"><a href="/cytoscape/samples/index.shtml#sampleLayout">Sample Layout Algorithm</a></h5>
<h5 class="menu"><a href="/cytoscape/samples/index.shtml#tunableSampler">Tunables Sampler</a></h5>
-->
</div>


<div class="leftInfo" style="font-size: 90%">
<p class="header" style="margin-top: 0px">Typographic Conventions</p>
<b class="mouse">Mouse button</b><br style="margin-bottom: 5px">
<b class="button">Dialog button</b><br style="margin-bottom: 5px">
<b class="button">Keyboard button</b><br style="margin-bottom: 5px">
<b class="menuItem">Menu item</b><br style="margin-bottom: 5px">
<b class="menuLabel">Dialog label</b>
</div>

<div class="content">
<img src="../Cytoscape.png" alt="UCSF RBVI Cytoscape Plugins and Apps">
<h2 class="title"><i>CyAnimator</i>: Simple Animation of Cytoscape Networks</h2>

<p></p><hr align="left"><p></p>
<div class="image" style="float:right; width:416px;">
<a href="CyAnimatorFigure1.png"><img src="CyAnimatorFigure1.png" style="text-align: center;" width="406"></a>
<p style="font-size: 90%;"><b>Figure 1</b>. This example shows <i>CyAnimator</i>
with eight <b>frame</b>s captured.  Using the buttons on the tool users can
animate between frames or create a movie.  Dragging the frame thumbnails allows
users to adjust the number of intermediate frames between each thumbnail.  The
timeline assumes 30 frames per second.
</p></div>
<p>
<i>CyAnimator</i> is a Cytoscape app that provides a tool for simple
animations of Cytoscape networks.  The tool allows you to take a
series of snapshots (CyAnimator calls them <b>frame</b>s) of Cytoscape
networks.  For example, the first frame might be of a network zoomed
out and the second frame might focus on a specific group of nodes (see Figure 1).
Once these two frames are captured by the tool, it can animate between them
by interpolating the changes in location, zoom, node color, node size, edge thickness,
presence or absence of annotations, etc.  Some changes (custom graphics, node charts, etc.)
are interpolated by cross-fading between the two states and others (e.g. node shape) are
interpolated by fading out one state and fading in the other.
CyAnimator depends on
version 3.3 of Cytoscape and is available from the Cytoscape app
manager or <a href="http://apps.cytoscape.org">apps web site</a>.

<h4 class="ul">Installation</h4>
<p>
<i>CyAnimator</i> is available through the Cytoscape App store or
the App Manager.
To download <i>CyAnimator</i> using the app manager,
you must be running Cytoscape 3.3 or newer.
To install <i>CyAnimator</i> start Cytoscape 3.3 or better and either navigate directly
to the 
<a href="http://apps.cytoscape.org">Cytoscape App Store</a> using a web browser, or
bring up the <b>App Manager</b> (<b class="menuItem">Apps&rarr;App Manager</b>). 
<i>CyAnimator</i>
is tagged with the <b>animation</b> tag, or you can just search
for <b>CyAnimator</b>.  In either approach, select the app and press <b class="button">Install</b>.
</p>
<p>The <i>CyAnimator</i> source is available on github at 
<a href="https://github.com/RBVI/CyAnimator">https://github.com/RBVI/CyAnimator</a>.
</p>

<h4 class="ul">Normal Workflow</h4>
<p>To bring up <i>CyAnimator</i>  select 
<b class="menuItem">Apps&rarr;CyAnimator</b>.   This will bring up an empty CyAnimator dialog.  Note that
CyAnimator is only able to animate between networks in the same network collection.  Starting CyAnimator
on a new network collection will a new, empty, CyAnimator dialog.  Once a CyAnimator dialog is open, the
general workflow would be to manipulate the network to what you want it to look like at the start of
your movie, then press the <img src="AddButton.png" height="14"/> button to add the frame to CyAnimator.  Once the frame has
been added, you can modify your network to what you want it to look like in the next frame of your
movie and then again press the <img src="AddButton.png" height="14"/> button.  Note that CyAnimator will do all of the
interpolation to get from one frame to another, so the manipulations of the network can include a variety
of changes, including changes in color, position, zoom, annotations, etc.  Repeat this process until you
are happy with your movie, then simple press the record (<img src="record.png" height="14"/>) button.  If you want more
time between any two frames, you can simply drag the frame within the timeline.  Holding down the shift key while
dragging a frame will also drag all of the frames to the right of that frame on the timeline.  This allows you to
shift an entire group of frames over, if desired.
To show a particular frame
in Cytoscape, double-click on that frame.  A single-click will select the frame.  The
<img src="DeleteButton.png" height="14"/> button will delete all selected frames from the
timeline.  To remove <i>all</i> frames, click on the <b class="button">Clear All Frames</b> button in the upper-right
corner of the dialog.  NOTE: There is no "undo" in CyAnimator, so once a frame is deleted you will need to recreate
it and add it to the timeline again.
</p>
<p> <i>CyAnimator</i> saves frame information as part of the session, so saving a session will also save the 
current state of the timeline and all frames added to the timeline.  Due to a bug in the Cytoscape, you will need
to load the session after starting Cytoscape (double-clicking on the session file won't properly load the
timeline).
</p>

<div class="image" style="float:right; width:410px;">
<a href="Timeline.png"><img src="Timeline.png" style="text-align: center;" width="400"></a>
<p style="text-align: center; font-size: 90%;"><b>Figure 2</b>. The <b>CyAnimator Dialog</b>.  This
dialog shows all of the captured frames for this network collection, and provides the controls for the
animation and movie creation.
</p>
</div>
<h4 class="ul">CyAnimator Dialog</h4>
The CyAnimator dialog provides the main interface to CyAnimator, including the
following controls:
<p>
<table style="font-size: 90%">
<tr valign="top"><td><img src="AddButton.png" height="16"/></td>
<td>Add the current network view as a frame to the animation</td></tr>
<tr valign="top"><td><img src="DeleteButton.png" height="16"/></td>
<td>Remove all selected frames from the animation</td></tr>
<tr valign="top"><td><img src="play.png" height="16"/></td>
<td>Play the animation by interpolating through each frame</td> </tr>
<tr valign="top"><td><img src="pause.png" height="16"/></td>
<td>Pause the currently playing animation</td> </tr>
<tr valign="top"><td><img src="stop.png" height="16"/></td>
<td>Stop the currently playing animation</td> </tr>
<tr valign="top"><td><img src="stepBack.png" height="16"/></td>
<td>Step backwards to the previous interpolated frame</td></tr>
<tr valign="top"><td><img src="stepForward.png" height="16"/></td>
<td>Step forwards to the next interpolated frame</td></tr>
<tr valign="top"><td><img src="loop.png" height="16"/></td>
<td>If set, causes animation to loop until stopped</td></tr>
<tr valign="top"><td><img src="record.png" height="16"/></td>
<td>Bring up the <b>Output Options</b> dialog and record a movie or (optionally) save
each of the interpolated frames.</td></tr>
<tr valign="top"><td><b class="button">Speed&nbsp;slider</b></td>
<td>The speed slider controls the speed of the animation (but is ignored for the recorded
movies, which uses it's own <b>Frame rate</b> option.</td></tr>
</table>
</p>

<h4 class="ul">Record Dialog</h4>
<div class="image" style="float:right; width:410px;">
<a href="RecordDialog.png"><img src="RecordDialog.png" style="text-align: center;" width="400"></a>
<p style="text-align: center; font-size: 90%;"><b>Figure 3</b>. The <b>Output Options Dialog</b>
showing the production of an H.264 video file at the screen resolution and 30 frames/second.</p>
</div>
The <b>Record Dialog</b> provides the controls to choose the type of video you want to produce, options about
the resolution and speed of the video, and the location of the video output.
<h5 class="ul">Video Types</h5>
<dl>
<dl>
<dt><b class="menu">Frames</b></dt>
<dd>This is the simplest of the video types.  This will output each frame as a ".png" file at the requested 
resolution (see below) into the <b class="menu">Video location</b> directory specified.  To make a movie, you could use
any of the standard video packages that accept individual frames (e.g. iMovie on the Macintosh).  Note that
the <b class="menu">Frames Per Second</b> option doesn't make sense for this output type, and will be
disabled.</dd>
<dt><b class="menu">Animated GIF</b></dt>
<dd>This will output an animated GIF of the interpolated frames.  Animated GIF files are easy to show on web sites, but
are not the currently accepted standard format.  On the other hand, animated GIF files are computationally
very easy to produce.</dd>
<dt><b class="menu">MP4/H.264</b></dt>
<dd>This will output an MPEG4 file of the interpolated frames encoded with H.264.</dd>
</dl>
<h5 class="ul">Frame Options</h5>
<dl>
<dt><b class="menu">Frames rate</b></dt>
<dd>This controls the speed of the movie in terms of the number of frames per second.  Four frame
rates are offered, the two standard frame rates: <b class="menu">25 (PAL)</b> and <b class="menu">29.97 (NTSC)</b>, 
and <b class="menu">30</b> and <b class="menu">60</b>.  The timeline dialog is calibrated at 30 frames per second, so
a frame rate of 30 will correspond to the timeline and is a good default unless there is a reason to use one of the
standards.</dd>
<dt><b class="menu">Resolution</b></dt>
<dd>This controls the resolution of the output frames.  The units are % expansion, so a 
<b class="menu">Resolution</b> of 300 would result in a 300% (or 3X) expansion of the
output image.  This is extremely important for high-quality videos.  We recommend at least
a 2X (<b class="menu">Resolution</b> of 200) expansion for any published video.
</dl>

<h5 class="ul">Sample Movie</h5>
A <a href="sampleVideo.mp4">Sample Movie</a> created with CyAnimator is available for viewing.  This used 13 key frames:
<ol>
	<li>The full network using the default style</li>
	<li>A view focused on MCM1 (YMR043W)</li>
	<li>The same view using <b>COMMON NAME</b> for the node label and circle for node shape</li>
	<li>The same view as #3, but scaled the node size and node label size by <b>Degree</b></li>
	<li>In this view, I added in some annotations to highlight MCM1</li>
	<li>Changed the node colors using the data from the <b>gal1RGexp</b> column.  Color gradient is from blue to yellow.  Added a text annotation describing the data</li>
	<li>The same view as the above – to hold it on the screen</li>
	<li>The same as #6, but using <b>gal4RGexp</b> as the column for the node color gradient</li>
	<li>Again, use the same frame  before  to provide some time onscreen</li>
	<li>The same as #8, but using <b>gal80Gexp</b> as the column</li>
	<li>Another frame of <b>gal80Gexp</b></li>
	<li>This frame uses the custom graphics Chart feature to show all three expression values and shows how custom graphics fade in.  The labels were also moved down to avoid the charts</li>
	<li>The final frame is another capture frame of the same frame as #12</li>
</ol>
A <a href="SampleMovie.cys">Session File</a> may also be downloaded with this timeline.

<p align="right"><i>Last updated on November 10, 2015</i></p>

<p><hr align=left></p>
<p align=center>
<a href="/Overview/index.html">About RBVI</a>
| <a href="/Research/index.html">Projects</a>
| <a href="/Overview/staff.html">People</a>
| <a href="/Outreach/pubs/index.html">Publications</a>
| <a href="/Resources/index.html">Resources</a>
| <a href="/Visitors/index.html">Visit Us</a></p>
<p align=center>
<font size="-2">
Copyright 2018 Regents of the University of California.
All rights reserved.
</font></p>


</div></body></html>
