<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<!-- DW6 -->
<head>
<script type="text/javascript">

function showExamples(str)
{
  //document.getElementById("txtFASTA").innerHTML="OKKKKK";
  //return;
if (window.XMLHttpRequest)
  {// code for IE7+, Firefox, Chrome, Opera, Safari
  xmlhttp=new XMLHttpRequest();
  xmlhttp2=new XMLHttpRequest();
  }
else
  {// code for IE6, IE5
  xmlhttp=new ActiveXObject("Microsoft.XMLHTTP");
  xmlhttp2=new ActiveXObject("Microsoft.XMLHTTP");
  }
xmlhttp.onreadystatechange=function()
  {
  if (xmlhttp.readyState==4 && xmlhttp.status==200)
    {
     var fasta_textbox =document.getElementById("fasta_textbox");
     fasta_textbox.value = xmlhttp.responseText;
    }
  }
xmlhttp2.onreadystatechange=function()
  {
  if (xmlhttp2.readyState==4 && xmlhttp2.status==200)
    {
     var cs_textbox =document.getElementById("cs_textbox");
     cs_textbox.value = xmlhttp2.responseText;
    }
  }
xmlhttp.open("GET","getFASTA.php?q="+str,true);
xmlhttp.send();
xmlhttp2.open("GET","getCS.php?q="+str,true);
xmlhttp2.send();
}


function validate_form(thisForm) {

  var reason = "";

  var myiterations = document.getElementsByName("num_ensembles");

  reason += validateEmail(thisForm.email);
  reason += validateIsInteger(thisForm.num_ensembles);

  if (reason != "") {
    alert("Some fields need correction:\n" + reason);
    return false;
  }

  return true;
}

function trim(s)
{

  return s.replace(/^\s+|\s+$/,'');
}

function validateEmail(email)
{

  var error = "";
  var tEmail = trim(email.value);
  var emailFilter = /^[^@]+@[^@.]+\.[^@]*\w\w$/ ;
  var illegalChars = /[\(\)\<\>\,\;\:\\\"\[\]]/ ;

  alert("Email Value is : " + email.value);

  if (email.value == "") {
    email.style.background = 'Yellow';
    error = "Please enter an email address.\n";
  }
  else if (!emailFilter.test(email.value)) {
    email.style.background = 'Yellow';
    error = "Please enter a valid email address.\n";
  }
  else if (email.value.match(illegalChars)) {
    email.style.background = 'Yellow';
    error = "The email address contains illegal characters.\n";
  }
  else {
    email.style.background = 'White';
  }

  return error;
}

function validateIsInteger(fld)
{

  var error = "";

  if (isNaN(parseInt(fld.value))) {
    error = "The Number of Ensembles contains illegal digits\n";
    fld.style.background = 'Yellow';
	 alert(error);
  }
  return error;
}

</script>

<!-- Copyright 2005 Macromedia, Inc. All rights reserved. -->
<title>CS23D2.0 - web server for generating 3D protein structures from NMR chemical shifts 2.0</title>
<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" />
<link rel="stylesheet" href="mm_health_nutr.css" type="text/css" />
<style type="text/css">
<!--
.style1 {font-size: 16px}
-->
</style>
</head>
<body bgcolor="#F4FFE4">
<table width="100%" border="0" cellspacing="0" cellpadding="0">
  <tr bgcolor="#D5EDB3">
    <td width="382" colspan="2" rowspan="2"><img src="images/CS23D2.0.jpg" alt="Header image" width="490" height="108" border="0" /></td>
    <td width="100%" height="50" id="logo" valign="bottom" align="center" nowrap="nowrap"><Font size="6">Chemical Shift to 3D
    Structure 2.0 1</Font>  </td>
  </tr>

  <tr bgcolor="#D5EDB3">
    <td width="378" height="50" id="logo" valign="bottom" align="center" nowrap="nowrap">&nbsp;</td>
  </tr>

  <tr>
    <td colspan="3" bgcolor="#5C743D"><img src="mm_spacer.gif" alt="" width="1" height="2" border="0" /></td>
  </tr>

  <tr>
    <td colspan="3" bgcolor="#99CC66" background="mm_dashed_line.gif"><img src="mm_dashed_line.gif" alt="line decor" width="3" height="3" border="0" /></td>
  </tr>

  <tr bgcolor="#99CC66">
  	
  	<td colspan="3" id="dateformat" height="20"><a href="index.php">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;HOME</a>&nbsp;&nbsp;::&nbsp;&nbsp;<a href="documentation.html">DOCUMENTATION</a>&nbsp;&nbsp;::&nbsp;&nbsp;<a href="CS23D-Input_File_Format-2.html">I/O FORMATS</a>&nbsp;&nbsp;::&nbsp;&nbsp;<a href="gallery.html">GALLERY</a>&nbsp;&nbsp;::&nbsp;&nbsp;<a href="contact.html">CONTACT</a></td>

  </tr>

  <tr>
    <td colspan="3" bgcolor="#99CC66" background="mm_dashed_line.gif"><img src="mm_dashed_line.gif" alt="line decor" width="3" height="3" border="0" /></td>
  </tr>

  <tr>
    <td colspan="3" bgcolor="#5C743D"><img src="mm_spacer.gif" alt="" width="1" height="2" border="0" /></td>
  </tr>
 <tr>
<tr>
   <table border="0" cellspacing="0" cellpadding="2" width="1000" align="center">
        <tr>
          <td width="100%" class="bodyText"><p align="left" class="style1"> CS23D2.0 is a web server for rapidly generating accurate 3D protein structures using 
	only assigned NMR chemical shifts as input. Unlike conventional NMR methods, which require NOE and/or J-coupling data, CS23D2.0 uses only chemical shift 
	information to generate a 3D structure of the protein of interest. CS23D2.0 accepts chemical shift files in either SHIFTY or BMRB formats and produces a set
	of PDB coordinates for the protein in about 10-15 minutes. CS23D2.0 uses a combination of maximal subfragment assembly, chemical shift threading, 
	shift-based torsion angle prediction and chemical shift refinement to generate and refine the protein coordinates. Tests indicate that CS23D2.0 converges 
	(i.e. finds a solution) for about 90% of protein queries. The performance is dependent on the completeness of the chemical shift assignments and the similarity 
	of the query protein to known 3D folds. If you use the results of the CS23D2.0 server in a publication, please cite the following
	paper: <br>
	<a href="http://www.ncbi.nlm.nih.gov/pubmed/18515350">
	WWishart DS, Arndt D, Berjanskii M, Tang P, Zhou J, Lin G.
	CS23D: a web server for rapid protein structure generation using NMR chemical shifts and
	sequence data. Nucleic Acids Res. 2008 Jul 1;36(Web Server issue):W496-502.</a>

</p>		  </td>
        </tr>
        <tr>
          <td ><div align="center"><img src="images/greenline.jpg" width="1000" height="7" /></div></td>
        </tr>
        <tr>
          <td class="bodyText" valign="top">
		  	<p align="center" class="style1">To operate this server:</p>	      
		  	
			<table width="735" border="0">
              <tr>
                <td width="725"><span class="style1">1) Select or Paste to a file <a
		href="/CS23D-Input_File_Format-2.html" target="_blank">(BMRB or SHIFTY format)</a> containing the sequence and chemical shifts of the protein of interest.</span></td>
              </tr>
              <tr>
                <td><span class="style1">2) Type in a VALID email address. The results will be emailed to you.</span></td>
              </tr>
              <tr>
                <td><span class="style1">3) Press the submit button.</span></td>
              </tr>
            </table>
			<!--form action="index.php"  method="get">
		  		<div align="center">
		  			<p>
						<h2><p align="center" class="style1"><font size='5'>Examples:</font></p></h2>
						<font size='3'>(you could run them to test the server, please do not overdo this)</font><br>
			  			<input type=submit name="example" value="Example 1 (BMRB format)">
			  			<input type=submit name="example" value="Example 2 (SHIFTY format)">
					</p>
		 		</div>
			</form-->
		<center>
		<p class="style1"><h2>Examples:</h2>
						(you could run them to test the server, please do not overdo this)<br>
			<button type ="button" onclick="showExamples('1')" >Example 1 (BMRB format)</button>
			<button type ="button" onclick="showExamples('2')" >Example 2 (SHIFTY format)</button>
			<br>
		</p>
		<center>
			<hr />	
			<div align="center"><img src="/images/greenline.jpg" width="1000" height="7" /></div>
        					
			<form name="myform" action="/cgi-bin/CS23D_2_0.cgi" onsubmit="return validate_form(this)" method="POST" ENCTYPE="multipart/form-data">
			<table width=700 align="center">
			<tr>
		            	<td width=350><span class="style1">1) Email Address (required):</span></td>
		            	<td><input type="text" name="email" length="30" /></td>
                       </tr>
			<tr>
				<td width=350><span class="style1">2) Self define your input case name(optional):</span></td>
				<td><span class="style1"><input type="text" name="case" length="30" />(For example, 1ABC)</span></td>
			</tr>
			<tr>
                        	<td width=350><span class="style1">3) Select FASTA file:</span></td>
				<td><span class="style1"> <input type="file" name="fastafile" length="20" /></span></td>
                        </tr>  
			</table>
			<table align="center">
			<tr>
				<td><span class="style1">OR type (paste) the FASTA sequence into the space below
				 <a href="/CS23D-Input_File_Format-2.html#FASTA" target="_blank"> (see examples here)</a>:
				</span></td>
			</tr>
			<tr>
				<td><TEXTAREA id="fasta_textbox" NAME="fasta" COLS="70" ROWS="5" style="font-size:12px;   font-family: courier;" onclick="document.myform.fasta.value='';">
				</TEXTAREA></td>
			</tr>
			</table>
			<table width=700 align="center">
                      	<tr>
                        	<td width=350><span class="style1">4) Select chemical shift file:</span></td>
				<td><span class="style1"><input type="file" name="file" length="20" /></span></td>
                        </tr>
			</table>
			<table align="center">
              		<tr>
				<td><span class="style1">OR type (paste) the chemical shift file into the space below
			 	<a href="/CS23D-Input_File_Format-2.html#CS" target="_blank"> (see examples here)</a>:
				</span> </td>
			</tr>
			<tr>
				<td><TEXTAREA id="cs_textbox" NAME="seq" COLS="70" ROWS="10" style="font-size:12px;   font-family: courier;" onclick="document.myform.seq.value='';">
			
				</TEXTAREA></td>
			</tr>
			</table>
			<center>------OPTIONS-------</center>
			<table width=600 align="center">
			<tr>
                               <td><span class="style1">Exclude PDB when selecting homolog(For example, 1ABC; <br>if more than one, please use space or ',' to separate them.)</span></td>
                               <td><span class="style1"><TEXTAREA  NAME="exclude_pdbid" COLS="20" ROWS="2"  style="font-size:12px;   font-family: courier;" >
                                                                </TEXTAREA></span></td>
                        </tr>
			<tr>
				<td><span class="style1">Ignore exact Matching Structures in Calculation</span></td>
	                        <td><input type="CHECKBOX" name="exact_match"/></td>
			</tr>
			<tr>
				<td><span class="style1"> Number of Ensemble Structures Generated:</span></td>
	                        <td><input type="text" name="num_ensembles" value="3" style="width:30px"/></td>
			</tr>			
			<tr>
				<td><span class="style1"> Number of GAFolder Iterations:</span></td>
                        	<td><select name="GAFolder_iterations" value=100>
					<option value="100">100 (Default)</option>
					<option value="500">500 </option>
                        		<option value="1000">1000 </option>
                        	     </select></span></td>
			</tr>
			</table>
			<tr>
				<td valign="top">
            			<p align="center">
            			  <INPUT TYPE="SUBMIT" NAME="B1" VALUE="Submit">
            			  <input name="Reset" type="reset" value="Reset" />
   			    </p>
                        
			<div align="center"><img src="images/greenline.jpg" width="1000" height="7" /></div>
			<p align="center">&nbsp;</p>
			<p align="center" class="style1">Below shows the current status of the CS23D2.0 server, indicating which jobs have been set to process. </p>
                        <p align="center"><object type="text/html" border="0" data="/cgi-bin/CS23D_displayQueue.cgi"/> </object></p> 

			<p align="center">Problems? Suggestions? Please contact <a href="http://feedback.wishartlab.com?site=CS23D">feedback</a> </p>

			</td>
		  </tr>
			</form>		  </td>
		<td>

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-56307902-1', 'auto');
  ga('send', 'pageview');

</script>

</td>
			
		</tr>
   </table>
   <br />
   &nbsp;<br />	
 </tr>
 </table>
<table>
 <tr>
    <td width="40">&nbsp;</td>
    <td width="342">&nbsp;</td>
    <td width="378">&nbsp;</td>
	<td width="100%">&nbsp;</td>
  </tr>
</table>
</body>
</html>

