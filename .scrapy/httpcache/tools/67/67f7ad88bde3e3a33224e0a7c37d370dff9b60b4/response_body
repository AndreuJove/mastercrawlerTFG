<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.1//EN" "http://www.w3.org/TR/xhtml11/DTD/xhtml11.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">

<head>
<meta http-equiv="content-type" content="text/html; charset=utf-8"/>
<meta name="description" content="ANACONDA"/>
<meta name="keywords" content="ANACONDA"/> 
<meta name="author" content="biostacs"/> 
<link rel="stylesheet" type="text/css" href="css/style.css" media="screen"/>
<script src="js/jquery.min.js"></script>
<script src="js/stickySidebar.js"></script>
<title>ANACONDA</title>
<style>
#sidebar.sticky { float: none; position: fixed; top: 20px; z-index: 6; left: auto; }
</style>
</head>

<body>
<div class="container">
	<div class="main">

		<div class="header" id="header">		
			<div class="title"><br><h1>ANACONDA</h1></div>
		</div>	
		<div class="content" id="content">
			<div class="item">

				<h1>1.	Introduction</h1>
				
				<p>ANACONDA is a tool designed for detecting and annotating somatic copy number alterations (CNVs) by integrating four state-of-the-art CNV-calling methods: <a href="http://bioinformatics.oxfordjournals.org/content/27/19/2648.short" target="_blank">ExomeCNV</a>, <a href="http://bioinformatics.oxfordjournals.org/content/28/3/423.short" target="_blank">FREEC</a>, <a href="http://bmcbioinformatics.biomedcentral.com/articles/10.1186/1471-2105-14-S2-S2" target="_blank">ADTEx</a> and <a href="http://www.genomebiology.com/2013/14/10/R120" target="_blank">EXCAVATOR</a>. In the framework of ANACONDA, configurations of all methods and CNV-calling procedures are automatically done, which is very convenient for non-professional users. Furthermore, the common CNVs detected by multiple algorithms are extracted and further annotated in several dimensions using currently available resources including xxx. Finally, an html file is generated to provide a detailed display of the information about parameter settings, detected CNVs, annotation results and etc.</p>

			</div>
	
			<div class="item" id="Requirements">
  
				<h1>2.	Requirements</h1>
				<p>&radic; Unix-like systems<br>
				&radic; R3.0+: The main analysis of CNVs in ExomeCNV, ADTEx and EXCAVATOR is done using R statistical language.(<b>Note:</b> R3.3 doesn’t support some needed packages, we have run ANACONDA successfully by R3.2.2 and R3.2.4. So we highly recommend R3.2.)<br>
				&radic; Jdk8+: Java language is required by ExomeCNV to derive depth of coverage<br>
				&radic; Other necessary tools: gcc and g++ to compile source code</p>
				
			</div>

			<div class="item" id="Installation">
				<h1>3.	Installation</h1>
				<p>
				The installation step prepares the running environments for the adopted CNV-calling methods including: 1) check if programing environments are ready, and 2) install dependent packages required by each method. We provide a script named “install” in the top directory of ANACONDA package to complete these steps, users can type following commands to install the software:<br>
				<i>chmod +x install</i><br>
				<i>./install</i><br>
				We suggest that users run above two commands as root user, otherwise it may throw an error of “permission denied”. During installation, any errors occurred are recorded in file “log.err”, users can check this file to find more details. After the installation, the main program of ANACONDA is generated in “bin” directory.<br><b>Note:</b> Because R package ‘Hmisc’ has so many dependencies, users should install it manually. You can type following command in R shell to install it:<br>
				<i>install.packages('Hmisc',dependencies=T,repos="http://cran.rstudio.com/")</i>

				</p>
			</div>
			
			<div class="item" id="Configuration">
				<h1>4.	Configuration</h1>
				<p>
				The configuration step setups all required parameters and provides inputs for each algorithm. Generally, the parameters are divided into five groups: <br>
				<b>&diams; General</b>. The common parameters requited by multiple methods are specified in this part. These parameters including selected methods for calling CNVs, tumor/normal BAM file, the sequence file of reference genome, target capture file, tumor ploidy and etc.<br>
				<b>&diams; ExomeCNV</b>. The specific parameters for ExomeCNV: (i) parameters for calling exon-level CNVs, and (ii) parameters for combing exons.<br>
				<b>&diams; FREEC</b>. Parameter settings for FREEC. These parameters will be used to automatically generate the specific configuration file for FREEC<br>
				<b>&diams; ADTEx</b>. The only one parameter needs to be specified for ADTEx, namely minimum read depth in control sample.<br>
				<b>&diams; EXCAVATOR</b>. Parameters uniquely required by EXCAVATOR are listed in this part<br>
				We provide a detailed description of all parameters as follows:<br>
				<table class="table" cellpadding="0" cellspacing="0" border="1" style="border-collapse:collapse;">
				<tr><th>Group</th><th>Parameter</th><th>Description</th><th>Possible values</th></tr>
				<tr><td rowspan="11">General</td><td>methods</td><td>Methods for CNV calling</td><td>Default: ExomeCNV, FREEC, ADTEx, EXCAVATOR<br>Ex: ExomeCNV, ADTEx</td></tr>
				<tr><td>tumor</td><td>Tumor BAM file</td><td>Ex: /path/to/tumor.bam</td></tr>
				<tr><td>normal</td><td>Normal BAM file</td><td>Ex: /path/to/normal.bam</td></tr>
				<tr><td>ref</td><td>Genome reference sequence file</td><td>Ex: /path/to/ref.fa</td></tr>
				<tr><td>refVersion</td><td>Version of human genome</td><td>Ex: hg18 or hg19</td></tr>
				<tr><td>target</td><td>File with capture regions</td><td>Ex: /path/to/target.bed</td></tr>
				<tr><td>out</td><td>Output directory to save results</td><td>Ex: /path/to/outputDir</td></tr>
				<tr><td>ploidy</td><td>Tumor ploidy</td><td>Default: 2<br>Ex: 2 or 3 or 4</td></tr>
				<tr><td>purity</td><td>Tumor purity</td><td>Default: 1.0<br>Ex: value between 0 and 1</td></tr>
				<tr><td>cnaCalledMethods</td><td>A CNV is considered to be a common CNV if it is called by multiple methods</td><td>Default: 1<br>Ex: a value belongs to [1,2,…,#methods]</td></tr>
				<tr><td>geneMinCoverage</td><td>Minimum percentage of a gene to be covered by a CNV</td><td>Default: 0.7<br>Ex: value between 0.5 and 1.0</td></tr>
				<tr><td rowspan="6">ExomeCNV</td><td>min.spec1</td><td>Minimum specificity for calling exon-level CNVs</td><td>Default: 0.9999<br>Ex: value between 0 and 1</td></tr>
				<tr><td>min.sens1</td><td>Minimum sensitivity for calling exon-level CNVs</td><td>Default: 0.9999<br>Ex: value between 0 and 1</td></tr>
				<tr><td>option1</td><td>Optimization Strategy for calling exon-level CNVs</td><td>Default: "spec"<br>Ex: "spec" or "auc"</td></tr>
				<tr><td>min.spec2</td><td>Minimum sensitivity for combining exons</td><td>Default: 0.99<br>Ex: value between 0 and 1</td></tr>
				<tr><td>min.sens2</td><td>Minimum sensitivity for combining exons</td><td>Default: 0.99<br>Ex: value between 0 and 1</td></tr>
				<tr><td>Option2</td><td>Optimization Strategy for combining exons</td><td>Default: "auc"<br>Ex: "spec" or "auc"</td></tr>
				<tr><td rowspan="13">FREEC</td><td>BedGraphOutput</td><td>Set TRUE if you want an additional output in BedGraph format for the UCSC genome browser</td><td>Default: FALSE</td></tr>
				<tr><td>breakPointThreshold</td><td>Positive value of threshold for segmentation of normalized profiles</td><td>Default: 0.8</td></tr>
				<tr><td>breakPointType</td><td>Desired behavior in the ambiguous regions</td><td>Default: 2</td></tr>
				<tr><td>chrFiles</td><td>Path to the directory with chromosomes fasta files</td><td>Ex: /path/to/hg18</td></tr>
				<tr><td>contaminationAdjustment</td><td>Set TRUE to correct for contamination by normal cells</td><td>Default: FALSE</td></tr>
				<tr><td>forceGCcontentNormalization</td><td>Simply model "sample RC ~ Control RC"</td><td>Fixed value: 0</td></tr>
				<tr><td>intercept</td><td>Intercept of polynomial</td><td>Fixed value: 0</td></tr>
				<tr><td>minCNVlength</td><td>Minimal number of consecutive windows to call a CNV</td><td>Default: 3</td></tr>
				<tr><td>maxThreads</td><td>Number of threads</td><td>Default: 1</td></tr>
				<tr><td>degree</td><td>Degree of polynomial</td><td>Fixed value: 1</td></tr>
				<tr><td>readCountThreshold</td><td>Threshold on the minimal number of reads per window in the control sample</td><td>Default: 10</td></tr>
				<tr><td>sex</td><td>Sample sex</td><td>"sex=XX" will exclude chr Y from the analysis<br>"sex=XY" will not annotate one copy of chr X and Y as a loss</td></tr>
				<tr><td>mateOrientation</td><td>Format of reads</td><td>Fixed value: 0</td></tr>
				<tr><td>ADTEx</td><td>minReadDepth</td><td>Threshold on the minimum read depth in the control sample</td><td>Default: 10</td></tr>
				<tr><td rowspan="8">EXCAVATOR</td><td>wigFile</td><td>Mappability file</td><td>Ex: /path/to/hg18_uniqueome.Wig</td></tr>
				<tr><td>mapQ</td><td>Mapping quality for BAM file filtering</td><td>Default: 0</td></tr>
				<tr><td>Omega</td><td>Omega parameter for the HSLM algorithm</td><td>Default: 0.1</td></tr>
				<tr><td>Theta</td><td>Theta parameter for the HSLM algorithm</td><td>Default: 1e-4</td></tr>
				<tr><td>D_norm</td><td>D_norm parameter for the HSLM algorithm</td><td>Default: 10e6</td></tr>
				<tr><td>Thre_d</td><td>Threshold d for the truncated gaussian distribution of the FastCall Calling algorithm</td><td>Default: 0.5</td></tr>
				<tr><td>Thre_u</td><td>Threshold u for the truncated gaussian distribution of the FastCall Calling algorithm</td><td>Default: 0.35</td></tr>
				<tr><td>minSeglen</td><td>Segment with a number of exons smaller than a threshold are filtered out</td><td>Default: 4</td></tr>
				</table>
				</p>
			</div>
			
			<div class="item" id="Running_ANACONDA">
				<h1>5.	Running ANACONDA</h1>
				<p>Running the main program of ANACONDA only needs one argument that is the configuration file. Type following command to run ANACONDA:<br>
                 <i>./bin/ANACONDA /path/to/configfile</i><br>
               For example:<br>
             <i>./bin/ANACONDA ./config/config.txt</i><br>
               </p>
			</div>
			
			<div class="item" id="Results_summary">
				<h1>6.	Results summary</h1>
				<p>
					<b>&diams; Parameters for variant caller</b><br>
					<a href="./images/Parameters.png"><img src="./images/Parameters.png" alt="Pulpit rock" width="600" height="400"></a><br>
					<b>&diams; Detailed results for CNV caller</b><br>
					<a href="./images/detail_results.png"><img src="./images/detail_results.png" alt="Pulpit rock" width="600" height="600"></a><br>
					<b>&diams; Shared CNVs</b><br>
					<a href="./images/shared_cnvs.png"><img src="./images/shared_cnvs.png" alt="Pulpit rock" width="600" height="350"></a><br>
                    <b>&diams; Detail of shared CNVs</b><br>
                    <a href="./images/detail_of_shared_cnvs1.png"><img src="./images/detail_of_shared_cnvs1.png" alt="Pulpit rock" width="600" height="350"></a><br>
                    <a href="./images/detail_of_shared_cnvs2.png"><img src="./images/detail_of_shared_cnvs2.png" alt="Pulpit rock" width="600" height="350"></a><br>
					<b>&diams; Annotation</b><br>
					<a href="./images/Annotation.png"><img src="./images/Annotation.png" alt="Pulpit rock" width="600" height="350"></a><br>
				</p>
			</div>

		</div>

		<div class="sidenav" id="sidebar">
		   <h1>User Guide</h1>
			<h2><a href="index.html">Introduction</a></h2>		
			<h2><a href="#Requirements">Requirements</h2></a>
			<h2><a href="#Installation">Installation</h2></a>		
			<h2><a href="#Configuration">Configuration</h2></a>
			<h2><a href="#Running_ANACONDA">Running ANACONDA</h2></a>
			<h2><a href="#Results_summary">Results summary</h2></a>
			
		<h1 style="margin-top:0.4em;">Download</h1>
		<h2><a href="./bundle/ANACONDA.tar.gz" style="text-decoration:none;">ANACONDA</a></h2>
		<h2><a href="./bundle/ref_data.tar.gz" style="text-decoration:none;">Reference</a></h2>
        <h2><a href="./bundle/example1.tar.gz" style="text-decoration:none;">Example1</a></h2>
        <h2><a href="./bundle/example2.tar.gz" style="text-decoration:none;">Example2</a></h2>
		<h2><a href="./bundle/test_data1.tar" style="text-decoration:none;">Test data1</a></h2>
		<h2><a href="./bundle/test_data2.tar" style="text-decoration:none;">Test data2</a></h2>
		<h2><a href="./bundle/test_data3.tar" style="text-decoration:none;">Test data3</a></h2>
		<h2><a href="./bundle/ANACONDA.md5" style="text-decoration:none;">MD5</a></h2>
		</div>
	
		<div class="clearer"><span></span></div>

	</div>

	<div class="footer">
		
		<span class="left">&copy;All Rights Reserved. Design by <a href="http://www.biostacs.com/">BioStaCs Group</a></span><br>
		<span class="left">If you have any questions, please contact <a href="mailto:yzh163@mail.ustc.edu.cn">Zhenhua Yu</a> (yzh163@mail.ustc.edu.cn)</span>
		<div class="clearer"><span></span></div>

	</div>

</div>
<script>
		$(document).ready(function() {	
			$('#sidebar').stickySidebar({
				sidebarTopMargin: 124,
				footerThreshold: 10
			});
		});
		</script>

</body>

</html>