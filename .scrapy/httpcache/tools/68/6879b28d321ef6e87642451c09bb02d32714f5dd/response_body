<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
<title>DeDaL: Data-Driven Network Layout</title>
    <link rel="stylesheet" type="text/css" href="global/styles.css"/>
</head>
<body>
<div id="container">
<table align="center" bgcolor="#fa7e0c" border="0" cellpadding="0" cellspacing="0" width="100%"><tbody><tr><td>


<!-- ******************************* BEGIN HEADER *********************************** -->
<table border="0" width="100%">
 <tr>
  <td align="left"><a href="http://www.curie.fr"><img border="0" src="images/logo_curie.gif" width="230" height="140" alt="" align="left"></a>
  </td>
  <td align="left">
<h2 ALIGN="left-side"><font color="white"><font size=6>DeDaL:</font> <font color="white" size=5>Da</font>ta-Driven Network Layout 
<br>Cytoscape 3.0 app for producing an morphing data-driven and structure-driven network layouts
</h2>
  </td>
<td align="right"><a href="http://cri-paris.org/master-aiv/"><img border="0" src="images/logo_AIV.jpg"  alt=""  width="230" height="150" ></a></td>
 </tr>
</table>

<table border="0" cellpadding="0" cellspacing="0" width="100%">
<tbody><tr style="padding-bottom: 5px; padding-top: 10px;">
    
</tr>
<tr>
    <td colspan="2" bgcolor="#686868" height="25">	
    <!-- <td colspan="2" background="global/bg_mauve.gif" height="25"> -->		
      <table border="0" cellpadding="0" cellspacing="0" width="100%">
	<tbody><tr style="text-align: center;">

		<td><a  href="#introduction"><font color="white" size=3>Introduction</font></a></td>
		<td width="1">|</td>
		<td><a  href="#downloads"><font color="white" size=3>Downloads</font></a></td>
		<td width="1">|</td>		
		<td><a  href="#documentation"><font color="white" size=3>References</font></a></td>
		<td width="1">|</td>		
		<td><a  href="#tutorial"><font color="white" size=3>Tutorial</font><a></td>
		<td width="1">|</td>		
		<td><a  href="#contacts"><font color="white" size=3>Contacts</font></a></td>
	</tbody>
      </table>
    </td>
</tr>

<tr><td colspan="2" class="pad">
<!-- ******************************* END HEADER *********************************** -->


<!-- ***************************** BEGIN PAGE CONTENT *********************************** -->

<table style="text-align: left; width: 100%;" border="0" cellpadding="2" cellspacing="2">
<tbody>
<tr>
<td align="top" bgcolor="white"> 

<a NAME="introduction"></a>
<hr>
<h2><font color="CC9900">Introduction</font></h2>
<p><b>DeDaL</b>  (Data-Driven network Layout) is a <a href="http://cytoscape.org">Cytoscape 3.0</a> <a href="#cytoscape">[1]</a> app developed by the 
	 <a href="http://bioinfo-out.curie.fr/sysbio">Computational Systems Biology of Cancer</a> group in
	 <a href="http://bioinfo-out.curie.fr">Bioinformatics Laboratory of Institut Curie (Paris)</a>.
	 <a href="http://cytoscape.org"><img src="images/logo_cytoscape.png" border="0" width="350" height="150" align="right" alt="http://cytoscape.org"/></a>&nbsp;&nbsp;&nbsp;<br>
<br>
	<b><font color="FF9900"> Scientific article about DeDaL has been published in BMC Systems Biology [<a href="#article">10</a>]</b></font> 
</p>
<p>Source code of DeDaL is accessible in a <b><a href="https://github.com/sysbio-curie/DeDaL" target="_blank">github repository</a></b>.</p>
<p>DeDaL is an universal tool and an example of non-biological application of DeDaL can be found <a href="http://urszulaczerwinska.github.io/works/DeDaL.html" target="_blank">here</a>.</p>
<p>The knowledge on molecular interactions in living cells is usually represented in the form of network diagrams, depicting, for instance, protein-protein interactions, biochemical reactions or more abstract 
influences of some molecule onto another molecules, etc. Providing an insightful layout for such diagrams is not a trivial problem. On the other hand, large amount of data is produced by application of high
 throughput biotechnologies. There is an urgent need of developing new methods 
for integrating the information provided in biological diagrams with the multidimensional -omics datasets. Classically, high-throughput data are mapped on top of the network layouts computed based on the 
network structure. 
</p>

<p>
<img src="images/dedal.gif" border="0"  width="30%" align="right" />
<img src="images/cartoonDDL.png" border="0" width=600 align="right" alt="http://cytoscape.org"/>
</p>

<p>
<br><b>DeDaL</b> is a Cytoscape 3.0 app which uses several algorithms of
dimention reduction to produce data-driven network layouts based on
multidimensional data (typicaly gene expression). DeDaL implements
several data pre-processing and layout post-processing steps such
as continuous morphing between two arbitrary network layouts and
aligning one network layout with respect to another by rotating and
mirroring. Combining these possibilities facilitates creating insightful
network layouts representing both structural network features and the
correlation patterns in multivariate data.
The app is implemented in Java.


<u>DeDaL app has the following functions:</u>
<ol>
<li>Data-Driven Layout:
<ul>pre-processing options:
<ul>
<li>double center data
<li>network-smooth data
</ul>
<li>Principal Component Analysis <a  href="#PCA">(PCA)</a>
<li>Elastic map <a  href="#PMs">(non linear PCA)   </a>
<ul>
<li>save processed data
</ul>
</ul>
<li>Layout aligning
<li>Layout morphing
</ol>


</p>
<p>
We propose you to follow our <a  href="#tutorial">Tutorial<a> to see an example of using DeDaL with expression data for two cancer subtypes on Fanconi DNA repair pathway.

</p>
<p>
<img src="images/fig3.png" border="0" width=500 align="right" />
</p>
<p>
We also applied DeDaL to the network of proteins interacting with ESR1 protein [Fig 3]. In
this case, the second principal component shows, for example, that the expression
levels of EGFR and CCNE1 are differently modulated though both are upregulated
in the basal-like subtype. PCA layout also highlights a particular pattern of ex-
pression of some hub genes such as AR or EGFR, and shows that underexpressed
genes in basal-like subtype forms more tightly-connected subnetwork. Morphing
the original organic network layout with the PCA-based layout moves position of
some of the proteins, keeping the general pattern of PCA preserved. For example,
underexpressed PIK3R1, IGFR1 and ERBB2 genes are moved on the left because
each of them is connected to several overexpressed genes. Application of network
smoothing drives the hub genes to the center of the layout, because of averaging
over the hub’s neighbors. It produces more regular pattern of network connections
but approximately conserves the neighborhood relations in PCA layout. DeDaL allows to easily identify group of genes with similar expression pattern even within the group of similar level of expression. I addition it is easy to morph between structure based layout and the data-driven layout which gives the user an opportunity to access and visualize both informatons easily without using additional tools.

</p>
<p>
<img src="images/fig4.png" border="0" width=500 align="left" />
</p>
<p>
It is also possible to used DeDaL to visualize <b> genetic information </b>. We applied DeDaL to create a DDL layout for a group of yeast genes involved
in DNA repair and replication. The genetic interactions between these genes and
the epistatic profiles (computed only with respect to this group of genes) were
used from [<a  href="#genIn">7</a>]. The definitions of DNA repair pathways were taken from KEGG
database [<a  href="#KEGG">8</a>]. Figure 4 shows the difference between application of the standard
organic layout for this small network of genetic interactions and PCA-based DDL
(computed here without applying data matrix double-centering to take into account
tendencies of genes to interact with smaller or larger number of other genes). PCA-
based DDL in this case groups the genes with respect to their epistatic profiles.
Firstly, local hub genes RAD27 and POL32 have distinct position in this layout.
Secondly, PCA-based DDL roughly groups the genes accordingly to the DNA repair
pathway in which they are involved. For example, it shows that Non-homologous end
joining DNA repair pathway is closer to Homologous recombination (HR) pathway
than to the Mismatch repair pathway. It also underlines that some homologous
recombination genes (such as RDH54) are characterized by a different pattern of
genetic interactions than the “core” HR genes RAD51, RAD52, RAD54, RAD55,RAD57.

</p>

<p>
In the next example we apply DeDaL to the Boolean model of cell fate decisions between survival,
apoptosis and non-apoptotic cell death (such as necrosis) published in [<a  href="#Bool">9</a>], to group
the nodes of the influence diagram accordingly to their co-activation patterns in the
logical steady states. The table of steady states was taken from [<a  href="#Bool">9</a>] (Figure 5, top
right) and used to compute the PCA-based DDL (Figure 5, bottom left). In this
DDL, nodes in close positions have similar pattern of activation in steady states
(such as RIP1 and RIP1K). We used morphing PCA-based DDL and the initial
layout of the model (as it was designed in [<a  href="#Bool">9</a>]) to visualize several stable states
corresponding to different cell fates (Figure 6). In this layout co-activated nodes
tend to form compact groups. Therefore, DeDaL can be used to design layouts of
mathematical models of biological networks, using the solutions of the model.
</p>

<p>
<center>
<img src="images/fig5.png"  />
<br>
<img src="images/fig6.png" align="top" />
</center>
</p>
</hr>

<p>
<a NAME="downloads"></a>
</p>
<hr>

<h2><font color="CC9900">Downloads</font></h2>

	<p><b>Install DeDaL test version</b></p> 
	
	<p>Download File
  <a href="jars/DeDaL.jar"> DeDaL  (7Mb)</a> last release.</p>
  
    <h3>Using the Cytoscape app manager</h3>
    <ol>
      <li>Launch the Cytoscape app manager (menu "Apps -> App Manager-> Install from File . . . ").
      <li>Select the DeDaL.jar file
      <li>Click "Install".
    </ol>


  </ul>
  
  <p><b>Download files for a <a  href="#tutorial">tutorial:  </a></b></p>
 
      <li>network (<a href="files/network.sif">network.sif</a>)
      <li>data (<a href="files/data.txt">data.txt</a>)
	  <li>style (<a href="files/fanconi_style_file.xml">fanconi_style_file.xml</a>)
  
<a NAME="tutorial"></a>
      <hr>
      <h2><font color="CC9900">Tutorial</font></h2>
	  In this tutorial you will follow a set of instructions in order to get acknowledged with DeDaL standard functions.
	  We used The Cancer Genome Atlas (<a href="http://cancergenome.nih.gov/">TCGA</a>) breast cancer transcriptomic dataset
(548 patients) and Human Reference Protein Database (<a  href="#HPRD">HPRD[6]</a>) database as a source of protein-protein interaction
network. As an example of a small subnetwork, we selected proteins involved
in Fanconi anemia DNA repair pathway as it is defined in Atlas of Cancer Signaling Network (<a href="http://acsn.curie.fr">ACSN</a>).
 <a  href="#dataset">Data set.</a> used in this tutorial is a public data set. And it is accessible from <a href="http://cancergenome.nih.gov/">TGCA</a> database. Dataset contains also a column with values of the t-test computed for the
gene expression difference between the basal-like (one of the molecular
subtypes of breast cancer, significantly contributing to the
intertumoral variability) and non basal-like breast tumours, that will be used for node coloring.
	  
	</br></br>In this exercise we will identify patterns in the data using PCA with network smoothing and double centering, we will perform morphing between a purely structure based layout and the PCA layout and we will align networks to allow an easier comparison between networks.
	  <ol>
	  <li>Download files from the <a href="#downloads"> Downloads </a>
	  <li>Open Cytoscape <b>3.0</b>:
	      <ul>
		  <li>a new Session is opened automatically, if not click File->New->Session
		  </ul>
		<li>Import network file:
		 <ul>
		  <li>File->Import->Network->File . . . 
		  <li>Select the downloaded file:<a href="files/network.sif"> network.sif</a> from your files
		  <li>Click OK.
		  </ul>
		      <center>
	<img src="images/1sss.png" width="900" height="550" />
	</center>
		<li>Install the app using the Cytoscape app manager
		<ul>
      <li>Launch the Cytoscape app manager (menu "Apps -> App Manager-> Install from File . . . ").
      <li>Select the DeDaL.jar file
      <li>Click "Install".
	  <li>If you can see the App Manager window as shown below, it means the app is correctly installed
	  <li>Close the dialog window of the App Manager
    </ul>
	    <center>
	<img src="images/2sss.png" width="900" height="550" />
	</center>
	<li>Load data:
	<ul>
	<li>File->Import->Table->File . . .(<a href="files/data.txt">data.txt</a>)
	<li>Leave parameters by default 
	<li>Click OK.
	</ul>
      <center>
	<img src="images/3sss.png" width="900" height="550" />
	</center>
	<li>Color data according to the T-test values
	<ul>
	<li>File->Import->Network->Style . . .
	<li>Go to Style in Control Panel on the left
	<li>Change the style to default_0
<li>You should observe nodes changed shape and are filled according to the t-test values (_TTEST column)
	</ul>
	<center>
	<img src="images/4sss.png" width="900" height="700" />
	</center>
	<li>Apply Data-Driven network Layout (PCA):
	<ul>
	<li><b>Layout-</b>>DeDaL->Data-Driven Layout <i>   (!) in the most recent version DeDaL appears in Layout, not Tools</i>
	<li>You will see a dialogue window (compare with the screen shot below):
	<ul>
	<li>Check "double center" 
	<li>Keep PCA button as default as well as PC1 and PC2 (principal components one and two will be projected)
	<li>Select all colums starting with BAS (for basal data) or NBAS (for non-basal). For multiple selection select the first entry, pull SHIFT button on the keyboard and click on the last entry you want to select.
	<li>Click "OK ans save data"
	</ul>
	<li>You should see now the PCA layout of the network and the Report window with a percentage of variance explained by each PC (up to 10)
	<li>You can repeat exactly the same steps checking "network-smooth data" to observe the result of network soothing.
	<li>you can also use the file to visualize or treat data in any other softwar after smoothing/double centering.

	
	<center>
	<img src="images/5sss.png"  />&nbsp;&nbsp;&nbsp;<img src="images/6sss.png" width="900" height="550" />&nbsp;&nbsp;&nbsp;<img src="images/8sss.png" width="900" height="550" /><p>One can see that in the PCA layout the first principal component sorts the
nodes accordingly to the t-test, because in this case the first principal
component is associated with the basal-like breast cancer subtype.
The second principal component gives additional information such
as that the expression levels of BRCA2 and FANCE are differently
modulated though both are upregulated in the basal-like subtype.</p>
	&nbsp;&nbsp;&nbsp;<img src="images/7sss.png" width="900" height="550" /><p>The layout preserves the general pattern of  the PCA-based DDL, while better visualizing the network structure, and moving some proteins into a different position. For example, BRCA1 gene is moved to the right because it is connected to several genes overexpressed in basal-like breast cancer subtype.

</p>
	</center>
	
	</ul>
	<li> Layout morphing: gradual transformation from one layout into another 
	<ul>
	<li>File->New->Network->Clone current network
	<li>Layout->yFiles Layouts-> Organic - this is a layout purely network structure based (you can choose any other layout if you wish)
	<center>
	<img src="images/9sss.png" width="500" height="400" />
	</center>
	<li> Make sure the active network is <b>network.sif_2 </b>(should be highlighted in the left panel)
	<li>Go to Tools->DeDaL-> Layout morphing
	<li> In the dialogue window select <b>network.sif</b> and "align"
	<li>Click OK.
	
	<li> A new network will be opened and you will see the Slider dialogue
	<li> Move the cursor to the right and follow a gradual transformation from an organic layout into a PCA layout

	<center>
	<img src="images/10sss.png" width="900" height="550" /><p>Morphing the organic network layout with the PCA-based layout
moves position of some of the genes, keeping the general pattern of
PCA preserved, while better reflecting the network structure.</p>
	</center>
	<li> set it on a desired position and close the Slider window
	</ul>
	<li>Layout aligning
	<p>
	Morphing between two network layouts might be meaningless if all nodes in one layout are systematically rotated or flipped with respect to the node positions in another layout. This situation is often the case when producing the pure data-driven layout and comparing it to the initial structure-driven layout. In this case, DeDaL allows minimizing the Euclidean distance between two layouts defined as the sum of squared Euclidean distances between all matched nodes with respect to all possible rotations and mirroring of one of the layouts.</p>
	<ul>
	<li>Go to Tools->DeDaL->Layout aligning
	<li>Select reference network <b>network.sif</b> and Network to Align : <b>network.sif_2</b> (in the screen shot, 3 extreme nodes are encircled with different colors and  with the same colors the corresponding nodes in the second network)	<center>
	<img src="images/11sss.png" width="800" height="400" />
	</center>
	<li>Click OK
	<li><b>network.sif_1</b> (organic layout) is now rotated and/or mirrored to minimize distance to the <b>network.sif</b> the reference network (PCA Layout) what facilitates eye comparison (legend for the colors the same as above:3 extreme nodes are encircled with different colors and  with the same colors the corresponding nodes in the second network)
	<center>
	
		<img src="images/12sss.png" width="800" height="400" />

	</center>
	
	<p>
	</p>
	</ul>
	<li>Save your working session
	<ul>
	<li>If you want to work on this session later:
File->Save
	</ul>
	
</ol>
<b>THE END</b><br>
Don't hesitate to <a  href="#contacts">contact</a> us if you have questions
	
	
	
	

      <a NAME="contacts"></a>
      <hr>
     
      <h2><font color="CC9900">Contacts</font></h2>
	 <ul>
	  <li><a href="mailto:ulcia.liberte@gmail.com">Urszula Czerwinska</a>
	 <li><a href="http://www.ihes.fr/~zinovyev">Andrei Zinovyev</a>
	 <li><a href="mailto:laurence.calzone@curie.fr">Laurence Calzone</a>
	 <li><a href="mailto:eric.bonnet@curie.fr">Eric Bonnet</a>
	 <li><a href="mailto:emmanuel.barillot@curie.fr">Emmanuel Barillot</a>
	 </ul>
	 <a NAME="documentation"></a>
<hr>
<p>
<h2><font color="CC9900">References</font></h2></h2>
<p>
<ul>
<ol>
<li><a NAME="cytoscape">Cline MS, Smoot M, Cerami E et al. <b> Integration of biological networks and gene expression data using Cytoscape.</b> Nat Protoc. 2007;2(10):2366-82 
<li><a NAME="PCA">Jolliffe I.T. <b> Principal Component Analysis</b>, Series: Springer Series in Statistics, 2nd ed., Springer, NY, 2002, XXIX, 487 p. 28 illus. ISBN 978-0-387-95442-4
<li><a NAME="PMs">Gorban A, Kegl B, Wunch D, Zinovyev A. (eds.) <b>Principal Manifolds for Data Visualisation and Dimension Reduction.</b> 2008. Lecture Notes in Computational Science and Engeneering 58, p.340.

<li><a NAME="PMs"></a>Gorban A.N., Zinovyev A.<b>Principal manifolds and graphs in practice: from molecular biology to dynamical systems.</b>. <I>Int J Neural Syst</I>, 2010; 20(3):219-32. 
<li><a NAME="dataset"></a>    Sartor MA, Mahavisno V, Keshamouni VG, Cavalcoli J et al. <b>ConceptGen: a gene set enrichment and gene set relation mapping tool.</b><I> Bioinformatics </I>2010 Feb 15;26(4):456-63. PMID: 20007254
 <li><a NAME="HPRD"></a> Prasad, TS Keshava, et al. <b>Human protein reference database - 2009 update.</b><I> Nucleic acids research</I> 37.suppl 1 (2009): D767-D772.
 <li><a NAME="genIn"></a>Costanzo, M., Baryshnikova, A., Bellay, J., Kim, Y., Spear, E.D., Sevier, C.S., Ding, H., Koh, J.L.Y., Toufighi,
K., Mostafavi, S., Prinz, J., St Onge, R.P., VanderSluis, B., Makhnevych, T., Vizeacoumar, F.J., Alizadeh, S.,
Bahr, S., Brost, R.L., Chen, Y., Cokol, M., Deshpande, R., Li, Z., Lin, Z.-Y., Liang, W., Marback, M., Paw, J.,
San Luis, B.-J., Shuteriqi, E., Tong, A.H.Y., van Dyk, N., Wallace, I.M., Whitney, J.A., Weirauch, M.T.,
Zhong, G., Zhu, H., Houry, W.A., Brudno, M., Ragibizadeh, S., Papp, B., P´al, C., Roth, F.P., Giaever, G.,
Nislow, C., Troyanskaya, O.G., Bussey, H., Bader, G.D., Gingras, A.-C., Morris, Q.D., Kim, P.M., Kaiser, C.A.,
Myers, C.L., Andrews, B.J., Boone, C.:<b> The genetic landscape of a cell.</b> Science 327(5964), 425–431 (2010).
doi:10.1126/science.1180823
<li><a NAME="KEGG"></a>Kanehisa, M., Goto, S., Sato, Y., Furumichi, M., Tanabe, M.:<b> Kegg for integration and interpretation of
large-scale molecular data sets.</b> Nucleic Acids Res 40(Database issue), 109–114 (2012).
doi:10.1093/nar/gkr988
<li><a NAME="Bool"></a> Calzone, L., Tournier, L., Fourquet, S., Thieffry, D., Zhivotovsky, B., Barillot, E., Zinovyev, A.: <b>Mathematical
modelling of cell-fate decision in response to death receptor engagement.</b> PLoS Comput Biol 6(3), 1000702
(2010)
<li><a NAME="article"></a>Czerwinska, Urszula, et al. <a href="http://bmcsystbiol.biomedcentral.com/articles/10.1186/s12918-015-0189-4"><b>DeDaL: Cytoscape 3 app for producing and morphing data-driven and structure-driven network layouts.</b></a> (2015) DOI: 10.1186/s12918-015-0189-4</a>
</ol>
</ul>
<p>
</p>
</p>
      <hr>
      <h2><font color="CC9900">Acknowledgements</font></h2>
      <p>Urszula Czerwinska is thankfull to the INSERM U900 unit for providing 5-month long internship, Eric Bonnet and Eric Viara for helping with the code and Loredana Martignetti for generously answering all questions.
	  


</td>
</tr>
</tbody>
</table>




<!-- ******************************* END PAGE CONTENT *********************************** -->

<!-- ******************************* BEGIN FOOTER *********************************** -->
  </div><!-- #content -->

	<div id="footer">
    <p><center><b>DeDaL</b> was created and is maintained by the team <a    href="http://sysbio.curie.fr/" target="_blank">"Computational Systems
    Biology of Cancer"</a> at the <a href="http://www.curie.fr">Institut Curie</a>.</center></p>
    <p><center>Copyright (c) 2014</center></p>
	</div><!-- #footer -->
<!-- ******************************* END FOOTER *********************************** -->

</body>
</html>
