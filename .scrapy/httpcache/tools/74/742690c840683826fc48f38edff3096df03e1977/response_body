<!DOCTYPE html>
<html lang="en-US">

<head>
<meta charset="utf-8">
<title>BindUP - Predicting DNA and RNA binding proteins using electrostatic patches</title>
<link rel="stylesheet" href="BindUP.css">
<link rel="shortcut icon" href="/favicon.ico">

<script src="analytics.js"></script>
<script type="text/javascript" src="jquery-1.10.2.min.js"></script>
<script type="text/javascript">
	$(window).load(function() {
   		$('form').get(0).reset(); //clear form data on page load - works only on Chrome
	});
</script>

<script>

	function SetPatchNum(form) {
		
		if (form.is_pos_patch.checked == true && form.is_neg_patch.checked == true) {
			form.patch_num.options[0].selected = "selected";
			form.patch_num.options[1].disabled = true;
			form.patch_num.options[1].style.color = '#999999';
			form.patch_num.options[2].disabled = true;
			form.patch_num.options[2].style.color = '#999999';
		}
		else {
			form.patch_num.options[1].disabled = false;
			form.patch_num.options[1].style.color = 'black';
			form.patch_num.options[2].disabled = false;
			form.patch_num.options[2].style.color = 'black';
		}
	}
	
	/////////////////////////////////////////////////////////////////////////////
	function ValidateSingle() {
	
		x=document.BindUP_form;
		
		// Verify that either PDB ID or file is checked (just in case)
		if (x.input_type[0].checked == false && x.input_type[1].checked == false) {
			alert("You must select either \'PDB ID\' or \'Upload file\' option");
			x.PDB_ID.focus();
			return false;
		}
		
		// If PDB ID option - verify that there is a valid ID
		if (x.input_type[0].checked == true) {
			// empty field
			if (x.PDB_ID.value == "" || x.PDB_ID.value == null){
				alert("Please enter a PDB ID");
				x.PDB_ID.focus();
				return false;
			}
			// ID not valid
			pdb_reg = /^[ \t\r\n\v\f]*[a-z0-9]{4}[ \t\r\n\v\f]*$/i;
			if (!pdb_reg.test(x.PDB_ID.value)) {
				alert("Invalid PDB ID, please enter a four letter identifier");
				x.PDB_ID.focus();
				return false;
			}
		}
		
		// file input is checked
		else {
			if (x.PDB_file.value == "" || x.PDB_file.value == null){
				alert("Please upload a PDB file");
				x.PDB_file.focus();
				return false;
			}
		}

		// Verify that either 'Chain ID' or 'No chain' is checked (just in case)
		if (x.chain_type[0].checked == false && x.chain_type[1].checked == false && x.chain_type[2].checked == false) {
			alert("You must select one of the 'Chain selection' options");
			x.chain_id.focus();
			return false;
		}
		
		// If Chain ID option - verify that there is a valid ID
		if (x.chain_type[1].checked == true) {
			// empty field
			if (x.chain_id.value == "" || x.chain_id.value == null){
				alert("Please enter a chain identifier");
				x.chain_id.focus();
				return false;
			}
			// ID not valid
			chain_reg = /^[a-z0-9_]$/i;
			if (!chain_reg.test(x.chain_id.value)) {
				alert("Invalid chain identifier, please enter a one letter identifier");
				x.chain_id.focus();
				return false;
			}
		}
		
		// Verify that either 'calculate positive patches' or 'calculate negative patches' is checked
		if (x.is_pos_patch.checked == false && x.is_neg_patch.checked == false) {
			alert("You must check at least one of the patches calculation options");
			return false;
		}

		// Verify E-mail address if this option is checked
		if (x.is_email.checked == true) {
			// empty field
			if (x.email.value == "" || x.email.value == null){
				alert("Please enter an E-mail address");
				x.email.focus();
				return false;
			}
			// email not valid
			email_reg = /^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,3})+$/;
			if (!email_reg.test(x.email.value)) {
				alert("Invalid E-mail address, please enter again");
				x.email.focus();
				return false;
			}
		}
	}
	
	////////////////////////////////////////////////////////////////////////////////
	function ValidateBatch() {
	
		x=document.BindUP_batch_form;
		
		// Verify that either the list or file is checked (just in case)
		if (x.input_method[0].checked == false && x.input_method[1].checked == false) {
			alert("You must select the paste option or the \'Upload file\' option");
			x.PDB_ID.focus();
			return false;
		}
		
		// If paste option - verify that there is a list
		if (x.input_method[0].checked == true) {
			// Verify that the user has pasted a list of PDBs		
			if (x.list.value == "" || x.list.value == null){
				alert("Please paste a list of PDB IDs");
				x.list.focus();
				return false;
			}
		}
		else {
			// Verify that the user has pasted a list of PDBs		
			if (x.list_file.value == "" || x.list_file.value == null){
				alert("Please upload a list of PDB IDs");
				x.list_file.focus();
				return false;
			}
	
		}
		
		// Verify that either 'calculate positive patches' or 'calculate negative patches' is checked
		if (x.is_pos_patch.checked == false && x.is_neg_patch.checked == false) {
			alert("You must check at least one of the patches calculation options");
			return false;
		}

		// Verify E-mail address if this option is checked
		if (x.is_email.checked == true) {
			// empty field
			if (x.email.value == "" || x.email.value == null){
				alert("Please enter an E-mail address");
				x.email.focus();
				return false;
			}
			// email not valid
			email_reg = /^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,3})+$/;
			if (!email_reg.test(x.email.value)) {
				alert("Invalid E-mail address, please enter again");
				x.email.focus();
				return false;
			}
		}
	}
</script>

</head>

<body>

<table id="main_table">

	<tr>
		<td style="padding:0"><img alt="" src="images/BindUP_logo.png" style="width:800px;display:block"></td>
	</tr>
	<tr>
		<td id="menu">
			<table style="float:left">
				<tr>
					<td id="menu_cell_current"><a href="index.html">Home</a></td>
					<td id="menu_cell"><a href="overview.html">Overview</a></td>
					<td id="menu_cell"><a href="manual.html">Manual</a></td>
					<td id="menu_cell"><a href="contact.html">Contact</a></td>
				</tr>
			</table>
			<table style="float:right">
				<tr>
					<td style="padding-right:30px;font-weight:bold;color:#14141E">Version 1.0</td>
				</tr>
			</table>
		</td>
	</tr>
	<tr>
		<td id="main">
		
			<table cellspacing="0" style="position:relative;z-index:1">
				<tr>
					<td id="single_td" class="mode mode_current" onclick="this.className='mode mode_current'; document.getElementById('batch_td').className='mode'; document.getElementById('batch').style.display='none'; document.getElementById('single').style.display='block';"><a href="#">Single protein mode</a></td>
					<td style="width:2px"></td>
					<td id="batch_td" class="mode" onclick="this.className='mode mode_current'; document.getElementById('single_td').className='mode'; document.getElementById('single').style.display='none'; document.getElementById('batch').style.display='block';"><a href="#">Batch mode</a></td>
				</tr>
			</table>
		
			<div id="single" class="form" style="display:block;">
				<form method="post" enctype="multipart/form-data" action="/cgi-bin/BindUP/BindUP.cgi" name="BindUP_form" onsubmit="return ValidateSingle()">
				
					<div class="title_div">Input <a href="manual.html#input_single" target="_blank"><img style="border:none" alt="" src="images/question_mark.png"></a></div>
				
					<div class="form_div">
						<div>
							<input type="radio" name="input_type" value="id" checked="checked" onclick="document.BindUP_form.PDB_file.disabled=true;document.BindUP_form.PDB_ID.disabled=false;document.BindUP_form.chain_type[2].disabled=false;">
							Enter a PDB ID: <input type="text" name="PDB_ID"><br>
							<input type="radio" name="input_type" value="file" onclick="document.BindUP_form.PDB_file.disabled=false;document.BindUP_form.PDB_ID.disabled=true;document.BindUP_form.chain_type[2].disabled=true;">
							Upload a coordinate file in PDB format: <input type="file" name="PDB_file" disabled="disabled">
						</div>
						<div style="margin:4px 0 2px 5px">
							<input type="button" name="example_button" value="Load example" onclick="document.BindUP_form.input_type[0].checked=true;document.BindUP_form.PDB_ID.disabled=false;document.BindUP_form.PDB_ID.value='1d66';document.BindUP_form.PDB_file.disabled=true">
							<input type="button" name="clear_button" value="Clear example" onclick="document.BindUP_form.input_type[0].checked=true;document.BindUP_form.PDB_ID.disabled=false;document.BindUP_form.PDB_ID.value='';document.BindUP_form.PDB_file.disabled=true">
						</div>
					</div>
				
					<div class="title_div" style="margin-top:10px">Calculation options <a href="manual.html#calculation_single" target="_blank"><img style="border:none" alt="" src="images/question_mark.png"></a></div>
					
					<div class="form_div">
						<div class="title_div">
							Chain selection:
						</div>
						<div style="padding-left:5px">
							<input type="radio" name="chain_type" value="all" checked="checked" onclick="document.BindUP_form.chain_id.disabled=true">
							Calculate all protein chains (each chain is calculated separately)
							<br>
							<input type="radio" name="chain_type" value="selected_chain" onclick="document.BindUP_form.chain_id.disabled=false">
							Select a protein chain identifier: <input type="text" name="chain_id" size="3" disabled="disabled">
						</div>	
						
						<div class="title_div" style="margin-top:5px">
							Patches calculation:
						</div>
						<div style="padding-left:5px">
							<div><input type="checkbox" name="is_pos_patch" value="yes" checked="checked" onclick="SetPatchNum(this.form)"> Calculate positive patches</div>
							<div style="margin-top:2px"><input type="checkbox" name="is_neg_patch" value="yes" onclick="SetPatchNum(this.form)"> Calculate negative patches</div>
							<div style="padding-left:4px;padding-top:2px">
								Number of patches (of each type) to display:
								<select name="patch_num" style="font-size:16px">
									<option value="1">1</option>
									<option value="2">2</option>
									<option value="3">3</option>
								</select>
							</div>
						</div>				
					</div>
				
					<div class="title_div" style="margin-top:10px">
						General options <a href="manual.html#general_single" target="_blank"><img style="border:none" alt="" src="images/question_mark.png"></a>
					</div>
					<div class="form_div">
						<input type="checkbox" name="is_email" value="yes" onclick="if(this.checked==true){document.BindUP_form.email.disabled=false;}else{document.BindUP_form.email.disabled=true}"> Send a link to the results by E-mail.
						E-mail address: <input type="text" name="email" size="30" disabled="disabled"> 
					</div>
					
					<div style="font-size:14px;color:red;margin-top:10px">
						<span style="font-weight:bold">Note:</span> for fast and proper display of the results, it is recommended to use Google Chrome, Safari or Firefox browsers.
						Internet Explorer is not recommended.
					</div>
				
					<input type="image" src="images/submit.png" value="Submit" style="margin-top:10px;">
				</form>
			</div>
			
			<div id="batch" class="form" style="display:none">
			
				<form method="post" enctype="multipart/form-data" action="/cgi-bin/BindUP/BindUP_batch.cgi" name="BindUP_batch_form" onsubmit="return ValidateBatch()">
				
					<div class="title_div">Input <a href="manual.html#input_batch" target="_blank"><img style="border:none" alt="" src="images/question_mark.png"></a></div>
				
					<div class="form_div" style="overflow:auto">
						<div style="float:left;margin-bottom:5px">
							<input type="radio" name="input_method" value="text" checked="checked" onclick="document.BindUP_batch_form.list.disabled=false; document.BindUP_batch_form.list_file.disabled=true;document.BindUP_batch_form.example_button.disabled=false;document.BindUP_batch_form.clear_button.disabled=false">
							Paste your list of PDB IDs here:<br>
							<textarea name="list" rows="2" cols="30" style="margin-left:25px"></textarea>
						</div>
						<div style="float:right">
							<input type="radio" name="input_method" value="file" onclick="document.BindUP_batch_form.list_file.disabled=false;document.BindUP_batch_form.list.disabled=true;document.BindUP_batch_form.example_button.disabled=true;document.BindUP_batch_form.clear_button.disabled=true;">
							Or, upload a file:
							<input type="file" name="list_file" value="" disabled="disabled">
						</div>
						<div style="clear:both;margin-left:25px;margin-bottom:2px">
							<input type="button" name="example_button" value="Load example list" onclick="document.BindUP_batch_form.list.value='1a6f\n1d66A\n2er8B\n2er8D\n';document.BindUP_batch_form.job_name.value='Batch example';">
							<input type="button" name="clear_button" value="Clear list" onclick="document.BindUP_batch_form.list.value='';document.BindUP_batch_form.job_name.value='';">
						</div>
					</div>
				
					<div class="title_div" style="margin-top:10px;">Calculation options <a href="manual.html#calculation_batch" target="_blank"><img style="border:none" alt="" src="images/question_mark.png"></a></div>
					
					<div class="form_div">
						<div class="title_div">
							Patches calculation:
						</div>
						<div style="padding-left:5px">
							<div><input type="checkbox" name="is_pos_patch" value="yes" checked="checked" onclick="SetPatchNum(this.form)"> Calculate positive patches</div>
							<div style="margin-top:2px"><input type="checkbox" name="is_neg_patch" value="yes" onclick="SetPatchNum(this.form)"> Calculate negative patches</div>
							<div style="padding-left:4px;padding-top:2px">
								Number of patches (of each type) to calculate:
								<select name="patch_num" style="font-size:16px">
									<option value="1">1</option>
									<option value="2">2</option>
									<option value="3">3</option>
								</select>
							</div>
						</div>
					</div>
				
					<div class="title_div" style="margin-top:10px">
						General options (optional) <a href="manual.html#general_batch" target="_blank"><img style="border:none" alt="" src="images/question_mark.png"></a>
					</div>
					<div class="form_div">
						<div>
							<input type="checkbox" name="is_email" value="yes" onclick="if(this.checked==true){document.BindUP_batch_form.email.disabled=false;}else{document.BindUP_batch_form.email.disabled=true}"> Send a link to the results by E-mail.
							E-mail address: <input type="text" name="email" size="30" disabled="disabled">
						</div>
						<div style="margin-top:3px;margin-left:5px">
							Enter a name for the current job: <input type="text" name="job_name" size="30">
						</div>
					</div>
				
					<input type="image" src="images/submit.png" value="Submit" style="margin-top:15px;">
				</form>
			
			</div>
			
			<div id="cite">
				<script src="cite.js"></script>
			</div>			
		</td>
	</tr>
	<tr>
		<td id="footer">
			<script type="text/javascript" src="footer.js"></script>
		</td>
	</tr>

	
</table>


</body>

</html>
