<!-- c0_85DockingDataList.htm : PAGE FOR VDRC MEMBERS ONLY -->
<!-- IMPORTANT! CONTENTS FOR THIS PAGE IS LOCATED IN ./contents/c0_85DockingDataList.inc -->
<html>

<head>
    <meta http-equiv="content-type" content="text/html; charset=utf-8">
    <title>VDRC (Voronoi Diagram Research Center) - Hanyang Univ. Seoul Korea</title>
    <link href="../common_db/css/base.css" rel="stylesheet" type="text/css">    	
</head>

<script>
function initFocus() {	    
	document.parameters.pdbID.focus();    	
}
</script>

<body onload="initFocus();">
	<script type="text/javascript" src="../wz_tooltip.js"></script>
    <div align="center">
    	
<table class="main_top">
<!--
    <tr class="row1">
        <td id="col_topRight" ><p id="main_topRT"><a href="/" target="_blank">Voronoi Diagram Research Center, Hanyang University, Korea</a></p></td>        
    </tr>
-->
    <tr>
        <table class="main_top">
            <tr>                
                <td id="col_titleBack">
                	<p id="main_title">BetaCavityWeb <br> 
                	<font size="3"> &#9679;&nbsp;Automatic and fast computation of molecular cavities and their geometric properties via <br>
                	                &#9679;&nbsp;Voronoi diagrams and beta-complexes
                	</font>
                	</p>
                </td>
            </tr>
        </table>        
    </tr>
</table>
 
        <table class="main_db">
            <tr class="row2">
            	<td id="col_mainMenu"> 
<table class="main_menu">
	<tr class = "menu_item">
    	<td id="col_menu" id="col_menu" width="144" > 
    		<a href="/betacavityweb"> Home </a>
    	</td>
    </tr>    
    <tr class = "menu_item">
    	<td id="col_menu" width="144" > 
    	<a href="/betacavityweb/about.html"> Documents </a>

    	 <br>
    	 <font size="1">
    	  &nbsp;&nbsp;- <a href="/betacavityweb/about.html"> BetaCavityWeb </a> <br>
    	  &nbsp;&nbsp;- <a href="/betacavityweb/output-betacavity.html"> Output format </a> <br>    	
    	  &nbsp;&nbsp;- <a href="/betacavityweb/requirements.html"> System requirement </a> <br>    	
    	 </font>

    	</td>
    </tr>
    
    
</table>



<table class="main_menu">	
    <tr class = "menu_item">
    	<td id="col_menu_example" width="144" >     	    
    		<a href="./examples.html" target="_blank"> Manual & Examples</a>
    	</td>
    </tr>
    <tr>
    	<td id="col_menu_example" width="144">
    	    <a href="http://voronoi.hanyang.ac.kr/contents/c10_betacavityweb/checkProcess.htm?serverPID=5714&pid=1547543522-5osa_ligandremoved.pdb&fileExist=TRUE&pdbFileName=5osa_ligandremoved.pdb&voidComputation=true&tunnelComputation=true&weightOfMaxDepth=50&weightOfAvgDepth=0&weightOfVolume=50&weightOfArea=0&elapsedTime=19" target="_blank">
    		<img src="../common_db/images/example1.png" width="144" > 
    		</a>
    		<font size="1" ><b>
    		(PDB code: 5osa, <br> &#35; atoms: 12,650,<br> &#35; voids: 218, &#35; channels: 26, passing solvent:1.4 &#8491; <br> gate-defining solvent:7 &#8491;, <br> Max. Depth(50%) + Vol. (50%))
    		</b></font>    		
    	</td>
    </tr>        
    
    
</table>

<!--
<table class="main_menu">	
    <tr class = "menu_item">
    	<td id="col_menu_counter" width="80" > 
    		# Visitors: 
    		<br>
    		# Executions: 
    	</td>
    	<td id="col_menu_counter" width="64" > 
-->    	
    		    		<br>    	
    		    		
    		<!--
    	</td>
    </tr> 
</table>
-->
 </td>
                <td id="col_mainText_1"> <div id="content"> 
<script>

function changeVoidType(typeOfVoid) {
	if(typeOfVoid == "vdw") {
		document.parameters.currVoidType.value = "vdw";		
		document.parameters.radiusOfSolvent.value = 0.0;
		document.parameters.solventRadiusOfVoid.value = 0.0;
	}
	else if(typeOfVoid == "leeRichard") {
		document.parameters.currVoidType.value = "lr";				
	}	
}

function changeProbeRadius(event) {
	
	var passingSolventRadius = document.parameters.radiusOfSolvent.value;
	
	var gateDefiningSolventRadius = document.parameters.radiusOfGateDefiningSolvent.value;

	if(gateDefiningSolventRadius <= passingSolventRadius)
	{
		alert('Please make sure that the gate-defining solvent radius is greater than passing solvent radius.');
		return;
	}

	var probeRadius = document.parameters.radiusOfSolvent.value;
	var radioBtns = document.parameters.voidTypes;

	document.parameters.solventRadiusOfVoid.value = probeRadius;
	
	if(probeRadius > 0.0) {
		document.parameters.currVoidType.value = "lr";	
		radioBtns[1].checked = true;
		radioBtns[0].checked = false;
		
	}
	else if(probeRadius == 0) {
		document.parameters.currVoidType.value = "vdw";		
		radioBtns[1].checked = false;
		radioBtns[0].checked = true;		
	}	
	
	if(event.keyCode == 13) {
		document.parameters.submit();	
	}
}


function changeGateDefiningSolventRadius(event)
{
	var passingSolventRadius = document.parameters.radiusOfSolvent.value;
	
	var gateDefiningSolventRadius = document.parameters.radiusOfGateDefiningSolvent.value;

	if(gateDefiningSolventRadius <= passingSolventRadius)
	{
		alert('Please make sure that the gate-defining solvent radius is greater than passing solvent radius.');
		return;
	}
}


function changeWeightOfDepth(event)
{

}


function changeReportBuriedArea() 
{
	var isChecked = document.parameters.checkBuriedArea.checked;
	
	if(isChecked) {
		document.parameters.reportBuriedArea.value = "true";		
	}
	else {
		document.parameters.reportBuriedArea.value = "false";
	}
}


function changeVoidComputation() 
{
	var isChecked = document.parameters.checkComputeVoids.checked;
	
	if(isChecked) {
		document.parameters.voidComputation.value = "true";		
	}
	else {
		document.parameters.voidComputation.value = "false";
	}
}

function changeTunnelComputation() 
{
	var isChecked = document.parameters.checkComputeTunnels.checked;
	
	if(isChecked) {
		document.parameters.tunnelComputation.value = "true";		
	}
	else {
		document.parameters.tunnelComputation.value = "false";
	}
}

function clearInputPDBID() 
{
	document.parameters.pdbID.value = "";
}

function clearFileToUpload(event) 
{
	document.getElementById("uploadFile").innerHTML = document.getElementById("uploadFile").innerHTML;
	
	if(event.keyCode == 13) {
		document.parameters.submit();	
	}
}

function changeMaxDepthForPrioritization()
{
	var isChecked = document.parameters.checkMaxDepth.checked;

	if(isChecked)
	{
		document.parameters.weightOfMaxDepth.disabled = false;
	}
	else
	{
		document.parameters.weightOfMaxDepth.value = 0;
		document.parameters.weightOfMaxDepth.disabled = true;
	}	

}

function changeAvgDepthForPrioritization()
{
	var isChecked = document.parameters.checkAvgDepth.checked;
	
	if(isChecked)
	{
		document.parameters.weightOfAvgDepth.disabled = false;
	}
	else
	{
		document.parameters.weightOfAvgDepth.value = 0;
		document.parameters.weightOfAvgDepth.disabled = true;
	}	
}

function changeVolumeForPrioritization()
{
	var isChecked = document.parameters.checkVolume.checked;
	
	if(isChecked)
	{
		document.parameters.weightOfVolume.disabled = false;
	}
	else
	{
		document.parameters.weightOfVolume.value = 0;
		document.parameters.weightOfVolume.disabled = true;
	}	
}


function changeAreaForPrioritization()
{
	var isChecked = document.parameters.checkArea.checked;
	
	if(isChecked)
	{
		document.parameters.weightOfArea.disabled = false;
	}
	else
	{
		document.parameters.weightOfArea.value = 0;
		document.parameters.weightOfArea.disabled = true;
	}
}

/*
function changeEmailAddress(event) {
	if(event.keyCode == 13) {
		document.parameters.submit();	
	}
}
*/

var weightValueOfMaxDepth = 0.0;
var weightValueOfAvgDepth = 0.0;
var weightValueOfVolume   = 0.0;
var weightValueOfArea     = 0.0;

function compute() 
{
	if(document.parameters.pdbID.value=="" && document.parameters.pdbFile.value=="")
	{
		alert("Please type a PDB code or upload a PDB file.");
	}
	else
	{
		if(document.parameters.pdbFile.value!="")
		{
			fileObj = document.parameters.pdbFile.value;
			pathHeader = fileObj.lastIndexOf("\\");
			pathMiddle = fileObj.lastIndexOf(".");
			pathEnd = fileObj.length;
			fileName = fileObj.substring(pathHeader+1, pathMiddle);
			extName = fileObj.substring(pathMiddle+1, pathEnd);
			extLowerCase = extName.toLowerCase();
			if(extLowerCase != "pdb" && extLowerCase != "ent")
			{
				alert("Your file extension should be either \'pdb\'' or \'ent\'.");
				return;
			}			
		}

		// var weights = document.getElementsByName("prioritizationWeight");
		// var weightSum = 0.0;	
		// for(var i=0;i < weights.length;++i)
		// {
		// 	weightSum += Number(weights[i].value);
		// }
		
		// alert(weightSum);
		weightValueOfMaxDepth = Number(document.parameters.weightOfMaxDepth.value);
		weightValueOfAvgDepth = Number(document.parameters.weightOfAvgDepth.value);
		weightValueOfVolume   = Number(document.parameters.weightOfVolume.value);
		weightValueOfArea     = Number(document.parameters.weightOfArea.value);

		// alert(weightValueOfMaxDepth);
		// alert(weightValueOfAvgDepth);
		// alert(weightValueOfVolume);
		// alert(weightValueOfArea);

		var weightSum = 0.0;
		var weightSum = weightValueOfMaxDepth + weightValueOfAvgDepth + weightValueOfVolume + weightValueOfArea;

		if((weightSum == 100.0))
		{
			if(weightValueOfMaxDepth < 0.0 || weightValueOfAvgDepth < 0.0 || weightValueOfVolume < 0.0 || weightValueOfArea < 0.0)
				alert('Please make sure that each weight is nonnegative.');
			else
			{
				if(!document.parameters.checkComputeVoids.checked &&
				   !document.parameters.checkComputeTunnels.checked) {
				   	alert("Please check the type of cavity at least one.");
				}
				else {
					document.parameters.weightValueOfMaxDepth.value = weightValueOfMaxDepth;
					document.parameters.weightValueOfAvgDepth.value = weightValueOfAvgDepth;
					document.parameters.weightValueOfVolume.value = weightValueOfVolume;
					document.parameters.weightValueOfArea.value = weightValueOfArea;
					
					document.parameters.submit();
				}
			}
		}
		else
		{
			alert('Please make sure that summation of all weights is 100%.');
		}
	}
}

</script>



<!-- <h1> BetaVoidWeb </h1> -->

<table class="about">
	<tr>
		<td id="col_about">
			<b>BetaCavityWeb</b> Automatic and fast computation of molecular cavities and their geometric properties via Voronoi diagrams and beta-complexes.
<!-- 			<b>BetaCavityWeb</b> Automatic and fast computation of molecular cavities and their geometric properties via Voronoi diagrams and beta-complexes. -->
			
			&nbsp;&nbsp;
			<font size="2"> <b> <a href="../betacavityweb/about.html">more... </a> <b> </font>
		</td>				
		<td id="col_about_img" >
			<img src="../common_db/images/void.png" width="90" />
			<!-- <img src="../common_db/images/tunnel.png" width="100" /> -->
		</td>
	</tr>
</table>
	
<table>
	<tr>
		<td id="col_parameter">

<form name="parameters" method="post" action="../contents/c10_betacavityweb/runBetaCavity.htm" enctype="multipart/form-data" target="_blank">
	<h2> 1. Input molecule</h2>		
	<ul> Please enter a PDB ID or click the "browse" button to upload a PDB file.</ul>
	<ul> - PDB ID: <input type="text" name="pdbID" id="pdbID" size="10" value="" onkeyup="clearFileToUpload(event);"/> 		 		 
		 <div id="uploadFile">		 	
			- Upload (PDB file): <input type="file" name="pdbFile" id="pdbFile" value="" onchange="clearInputPDBID();"/> 
		 </div>
	</ul>
	<ul> * For atomic radii, Bondi radius set is used (A. Bondi, 1964). </ul>	
	<h2> 2. Cavity type </h2>
		<ul> 
		     2.1 <input Type="checkbox" name="checkComputeTunnels" id="checkComputeTunnels" onchange="changeTunnelComputation();" checked value="" /> Channels 			
			<ul>
			 <li> Enter Passing Solvent Radius
			 <input Type="text" name="radiusOfSolvent" id="radiusOfSolvent" value="1.4" size="2" onkeyup = "changeProbeRadius(event);"/> (&#197;)
	         <br> ( <input Type="radio" name="voidTypes" id="voidTypes" value="vdw" onclick="changeVoidType(this.value);"/> van der Waals cavity 
   	              <input Type="radio" name="voidTypes" id="voidTypes" value="leeRichard" checked onclick="changeVoidType(this.value);" /> Lee-Richards (solvent accessible) cavity )
   	         <li> Enter Gate-definiing Solvent Radius
   	         <input Type="text" name="radiusOfGateDefiningSolvent" id="radiusOfGateDefiningSolvent" value="2.8" size="2" onkeyup = "changeGateDefiningSolventRadius(event);"/> (&#197;)
   	         </ul>

			 2.2 <input Type="checkbox" name="checkComputeVoids" id="checkComputeVoids" onchange="changeVoidComputation();" checked value="" /> Voids <br>
			 <ul>
			 	<li> Solvent Radius 
			 	<input Type="text" name="solventRadiusOfVoid" id="solventRadiusOfVoid" value="1.4" size="2" disabled /> (&#197;)
			 </ul>		     
		</ul> 
	
<!-- 	<h2> 3. Solvent radius </h2>	
	<ul>  - <input Type="text" name="radiusOfSolvent" id="radiusOfSolvent" value="1.4" size="2" onkeyup = "changeProbeRadius(event);"/> (&#197;)
	&nbsp;&nbsp;( <input Type="radio" name="voidTypes" id="voidTypes" value="vdw" onclick="changeVoidType(this.value);"/> van der Waals cavity 
   	              <input Type="radio" name="voidTypes" id="voidTypes" value="leeRichard" checked onclick="changeVoidType(this.value);" /> Lee-Richards (solvent accessible) cavity )
   	</ul> -->


	
<!--	<ul> 4. <input Type="checkbox" name="checkBuriedArea" id="checkBuriedArea" onchange="changeReportBuriedArea();" value="" /> Report buried area </ul> -->
	
	<!-- <ul> * For atomic radii, Bondi radius set is used (A. Bondi, 1964). </ul> -->
	
<!--	<ul> 5. Atom radii (default radii from A. Bondi, 1964) <br>
		    &nbsp;&nbsp; C: <input Type="text" name="RadiusOfC" id="RadiusOfC" value="1.70" size="1" disabled /> &nbsp;&nbsp;
		    &nbsp;&nbsp; H: <input Type="text" name="RadiusOfH" id="RadiusOfH" value="1.20" size="1" disabled /> &nbsp;&nbsp;
		    &nbsp;&nbsp; N: <input Type="text" name="RadiusOfN" id="RadiusOfN" value="1.55" size="1" disabled /> &nbsp;&nbsp;
		    &nbsp;&nbsp; O: <input Type="text" name="RadiusOfO" id="RadiusOfO" value="1.52" size="1" disabled /> &nbsp;&nbsp;
		    &nbsp;&nbsp; P: <input Type="text" name="RadiusOfP" id="RadiusOfP" value="1.80" size="1" disabled /> &nbsp;&nbsp;
		    &nbsp;&nbsp; S: <input Type="text" name="RadiusOfS" id="RadiusOfS" value="1.80" size="1" disabled /> 		 
	</ul>
-->	

	<h2> 3. Prioritization criteria </h2>
	<ul> 
		- Molecular Depth: 
			<input Type="checkbox" name="checkMaxDepth" id="checkMaxDepth" onchange="changeMaxDepthForPrioritization();" checked value="" /> Maximum
			<input Type="text"     name="weightOfMaxDepth" id="weightOfMaxDepth" value="100" size="2"                                    "/> (%)
			<input Type="checkbox" name="checkAvgDepth" id="checkAvgDepth" onchange="changeAvgDepthForPrioritization();"         value="" /> Average
			<input Type="text"     name="weightOfAvgDepth" id="weightOfAvgDepth" value="0"  size="2" disabled                            /> (%)
			<br>
<!-- 		<input Type="radio"  name="depthType" id="depthType" value="maxDepth" checked onclick="changeDepthTypeForPrioritization(this.value);"/> Maximum Depth
   	 	<input Type="radio"  name="depthType" id="depthType" value="avgDepth"         onclick="changeDepthTypeForPrioritization(this.value);"/> Average Depth
   	 	<input Type="text" name="weightOfDepth" id="weightOfDepth" value="50" size="2" onkeyup = "changeWeightOfDepth(event);"/> Weight of Depth(%)
 -->	
	     - Molecular Size&nbsp;&nbsp;&nbsp;: 
			<input Type="checkbox" name="checkVolume" id="checkVolume" onchange="changeVolumeForPrioritization();"          value="" /> Volume &nbsp;&nbsp;
			<input Type="text" name="weightOfVolume" id="weightOfVolume" value="0" size="2" disabled                                 /> (%) 
			<input Type="checkbox" name="checkArea" id="checkArea" onchange="changeAreaForPrioritization();"                value="" /> Area &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
			<input Type="text" name="weightOfArea" id="weightOfArea" value="0" size="2"  disabled                                    /> (%)
	</ul>
	<ul> * Summation of all weights should be 100(%). </ul>

	<input type="hidden" name="currVoidType" id="currVoidType" value="lr" />
	<input type="hidden" name="voidComputation" id="voidComputation" value="true" />
	<input type="hidden" name="tunnelComputation" id="tunnelComputation" value="true" />
	<input type="hidden" name="reportBuriedArea" id="reportBuriedArea" value="false" />

	<input type="hidden" name="weightValueOfMaxDepth" id="weightValueOfMaxDepth" value="" />
	<input type="hidden" name="weightValueOfAvgDepth" id="weightValueOfAvgDepth" value="" />
	<input type="hidden" name="weightValueOfVolume" id="weightValueOfVolume" value="" />
	<input type="hidden" name="weightValueOfArea" id="weightValueOfArea" value="" />

	<h2> 4. Submission </h2>

	<ul> <p class="content_cnt" > <input type="button" value="Compute" onclick="compute();"> </p> </ul>
</form>	
		</td>
	</tr>
</table>	


<p>&nbsp;&nbsp;<b>* Citing BetaCavityWeb*</b><br>
&nbsp;&nbsp;&nbsp;J.-K. Kim, Y. Cho, M. Lee, R. Laskowski, S.-E. Ryu, K. Sugihara, D.-S. Kim, 
<b>BetaCavityWeb: a webserver for &nbsp;&nbsp;&nbsp;molecular voids and channels</b>, 
<i>Nucleic Acids Research</i>, (doi: 10.1093/nar/gkv360), 2015.

</p>
 </div> </td>
            </tr>
        </table>
        
<table class="main_bottom">
    <tr class="row1">    	
        <td id="col_blankLeft">
            <p id="vdrc_copyright">Copyright &copy; 2020 <a href="/" target="_blank">VDRC, Hanyang University.</a>
            
            </p></td>
        <td id="col_topRight"><p id="main_topRT"><img src="/images/envelope.gif">&nbsp;&nbsp;
            <!--
            <a href=mailto:maintainbeta@voronoi.hanyang.ac.kr?cc=dskim@hanyang.ac.kr>
            -->
            <a href=mailto:maintainbeta@voronoi.hanyang.ac.kr>
                Contact Us
            </a></p>
        </td>
    </tr>
</table>    </div>
</body>

</html>
